jQuery.sap.registerPreloadedModules({
	"version": "2.0",
	"name": "sap.ui.rta.library-preload",
	"modules": {
		"sap/ui/rta/appVariant/manageApps/webapp/Component.js": "/*!\n * UI development toolkit for HTML5 (OpenUI5)\n * (c) Copyright 2009-2017 SAP SE or an SAP affiliate company.\n * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.\n */\nsap.ui.define([\"sap/ui/core/UIComponent\"],function(t){\"use strict\";var p;return t.extend(\"sap.ui.rta.appVariant.manageApps.webapp.Component\",{metadata:{manifest:\"json\",library:\"sap.ui.rta\",version:\"0.9\",properties:{adaptedAppProperties:{type:\"object\"}}},constructor:function(){p=arguments[1].adaptedAppProperties,t.prototype.constructor.apply(this,arguments)},init:function(){this.setAdaptedAppProperties(p),t.prototype.init.apply(this,arguments)}})});",
		"sap/ui/rta/appVariant/manageApps/webapp/controller/ManageApps.controller.js": "/*!\n * UI development toolkit for HTML5 (OpenUI5)\n * (c) Copyright 2009-2017 SAP SE or an SAP affiliate company.\n * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.\n */\nsap.ui.define([\"jquery.sap.global\",\"sap/ui/core/mvc/Controller\",\"sap/ui/rta/appVariant/manageApps/webapp/model/models\",\"sap/ui/rta/appVariant/Utils\",\"sap/m/MessageBox\"],function(e,t,n,i,a){\"use strict\";var r,s,o;return t.extend(\"sap.ui.rta.appVariant.manageApps.webapp.controller.ManageApps\",{onInit:function(){r=this.getOwnerComponent().getAdaptedAppProperties();var t=r.componentName;s=e.sap.getModulePath(\"sap.ui.rta.appVariant.manageApps.webapp\"),o=e.sap.resources({url:s+\"/i18n/i18n.properties\"});var n=o.getText(\"MAA_APP_VARIANT_TYPE\");return i.getAppVariants(t,n).then(function(e){return this._addAppVariantsProperties(e).then(function(){return this._paintCurrentlyAdaptedApp()}.bind(this))}.bind(this)).catch(function(e){return this._showMessage(a.Icon.ERROR,\"HEADER_MANAGE_APPS_FAILED\",\"MSG_MANAGE_APPS_FAILED\",e).then(function(){return this._closeManageAppsDialog()}.bind(this))}.bind(this))},_showMessage:function(e,t,n,i){var r=sap.ui.getCore().getLibraryResourceBundle(\"sap.ui.rta\"),s=r.getText(n,i?[i.message||i]:void 0),o=r.getText(t);return new Promise(function(t){a.show(s,{icon:e,title:o,onClose:t})})},_addAppVariantsProperties:function(e){var t={title:r.title,subTitle:r.subTitle,description:r.description,icon:r.icon,id:r.idAppAdapted,componentName:r.componentName,currentStatus:o.getText(\"MAA_CURRENTLY_ADAPTING\")};if(r.idAppAdapted===r.componentName)return t.type=o.getText(\"MAA_ORIGINAL_TYPE\"),e.unshift(t),this._bindModelData(e);var n=e.filter(function(e){return e.id!==t.id});return t.type=o.getText(\"MAA_APP_VARIANT_TYPE\"),n.unshift(t),i.getOriginalAppProperties(r.componentName,o.getText(\"MAA_ORIGINAL_TYPE\")).then(function(e){return n.unshift(e[0]),this._bindModelData(n)}.bind(this))},_bindModelData:function(e){var t={appVariants:e},i=n.createModel(t);return this.getView().setModel(i),Promise.resolve(!0)},_closeManageAppsDialog:function(){var e=sap.ui.getCore().byId(\"manageAppsDialog\");e.oPopup.attachClosed(function(){return e.destroy(),Promise.resolve(!0)}),e.close()},_paintCurrentlyAdaptedApp:function(){var t=this.getView().byId(\"Table1\");return e(\".maaCurrentStatus,.maaSubTitle\").css(\"font-size\",\"12px\"),function(){for(var e,n=t.getVisibleRowCount(),i=t.getFirstVisibleRow(),a=0;a<n;a++)if((e=t.getContextByIndex(i+a))&&e.getProperty(\"currentStatus\")===o.getText(\"MAA_CURRENTLY_ADAPTING\")){var r=sap.ui.core.theming.Parameters.get(\"sapUiHighlight\");t.getRows()[a].$().find(\"span\").css({color:r});break}return Promise.resolve(!0)}()}})});",
		"sap/ui/rta/appVariant/manageApps/webapp/model/models.js": "/*!\n * UI development toolkit for HTML5 (OpenUI5)\n * (c) Copyright 2009-2017 SAP SE or an SAP affiliate company.\n * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.\n */\nsap.ui.define([\"sap/ui/model/json/JSONModel\"],function(e){\"use strict\";return{createModel:function(n){var t=new e(n);return t.setDefaultBindingMode(\"OneWay\"),t}}});",
		"sap/ui/rta/appVariant/ManageAppsDialog.js": "/*!\n * UI development toolkit for HTML5 (OpenUI5)\n * (c) Copyright 2009-2017 SAP SE or an SAP affiliate company.\n * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.\n */\nsap.ui.define([\"sap/ui/base/ManagedObject\",\"sap/ui/core/ComponentContainer\",\"sap/m/Dialog\",\"sap/ui/rta/appVariant/manageApps/webapp/Component\",\"sap/ui/fl/Utils\"],function(t,o,e,i,n){\"use strict\";var p,a=t.extend(\"sap.ui.rta.appVariant.ManageAppsDialog\",{metadata:{properties:{rootControl:{name:\"rootControl\",type:\"object\"}},events:{opened:{},close:{}}},constructor:function(){p=arguments[0].rootControl,t.prototype.constructor.apply(this,arguments)}});return a.prototype.init=function(){this._oTextResources=sap.ui.getCore().getLibraryResourceBundle(\"sap.ui.rta\"),this._oDialog=new e(\"manageAppsDialog\");var t=p,a=n.getAppDescriptor(t),s=a[\"sap.app\"].id,r={title:a[\"sap.app\"].title,subTitle:a[\"sap.app\"].subTitle||\"\",description:a[\"sap.app\"].description||\"\",icon:a[\"sap.ui\"].icons.icon||\"\",componentName:a[\"sap.ui5\"].componentName,idAppAdapted:s};this.oManageAppsComponent=new i(\"manageApps\",{adaptedAppProperties:r}),this.oManageAppsComponentContainer=new o({component:this.oManageAppsComponent}),this._oDialog.addContent(this.oManageAppsComponentContainer);var u=this._createButton();this._oDialog.addButton(u),this._oDialog.setContentWidth(\"1000px\"),this._oDialog.setContentHeight(\"300px\"),this._oDialog.setShowHeader(!1)},a.prototype.open=function(){return new Promise(function(t){this._oDialog.oPopup.attachOpened(function(){this.fireOpened(),t(this)}.bind(this)),this._oDialog.open()}.bind(this))},a.prototype._createButton=function(){return new sap.m.Button({text:this._oTextResources.getText(\"MAA_CLOSE_BUTTON\"),press:[this._closeDialog,this]})},a.prototype._closeDialog=function(){return new Promise(function(t){this._oDialog.oPopup.attachClosed(function(){this._oDialog.destroy(),t(!0)}.bind(this)),this._oDialog.close(),this.fireClose()}.bind(this))},a.prototype.exit=function(){this._oDialog.destroy()},a},!0);",
		"sap/ui/rta/appVariant/ManageAppsLoader.js": "/*!\n * UI development toolkit for HTML5 (OpenUI5)\n * (c) Copyright 2009-2017 SAP SE or an SAP affiliate company.\n * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.\n */\nsap.ui.define([\"jquery.sap.global\",\"sap/ui/rta/Utils\"],function(r,t){\"use strict\";var n,a;return{load:function(r){var t=sap.ui.getCore().byId(r);return n||(n=new Promise(function(r){sap.ui.require([\"sap/ui/rta/appVariant/ManageAppsDialog\"],function(t){return r(t)})})),n.then(function(r){return a||(a=new r({rootControl:t,close:function(){this.destroy(),a=null}})),a.open()})},hasAppVariantsSupport:function(n,a){if(a&&t.getUshellContainer()&&\"CUSTOMER\"===n){var e=r.sap.getUriParameters(),i=e.mParams[\"sap-ui-xx-rta-save-as\"];if(i&&i.length>0)return\"true\"===i[0]}return!1}}});",
		"sap/ui/rta/appVariant/Utils.js": "/*!\n * UI development toolkit for HTML5 (OpenUI5)\n * (c) Copyright 2009-2017 SAP SE or an SAP affiliate company.\n * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.\n */\nsap.ui.define([\"jquery.sap.global\"],function(t){\"use strict\";var e={};return e.ajaxRequest=function(e){return new Promise(function(r,n){t.ajax(e).done(function(t){return r(t)}).fail(function(t){return n(t)})})},e.getAppVariants=function(t,e){var r={url:\"/sap/bc/ui2/app_index/?basedOnId=\"+t+\"&fields=descriptorUrl\",type:\"GET\"};return this.ajaxRequest(r).then(function(t){var r=t.results;return this.getAppVariantDescriptorInfo(r,e)}.bind(this))},e.getAppVariantDescriptorInfo=function(t,e){var r=[],n=this;return t.some(function(t){r.push(n.getAppVariantsProperties(t,e))}),Promise.all(r).then(function(t){return t})},e.getAppVariantsProperties=function(t,e){var r,n={};return r={url:t.descriptorUrl,type:\"GET\"},this.ajaxRequest(r).then(function(t){var r=t;return n.id=r[\"sap.app\"].id,n.title=r[\"sap.app\"].title,n.subTitle=r[\"sap.app\"].subTitle,n.description=r[\"sap.app\"].description,n.icon=r[\"sap.ui\"].icons.icon,n.componentName=r[\"sap.ui5\"].componentName,n.type=e,Promise.resolve(n)})},e.getOriginalAppProperties=function(t,e){var r={url:\"/sap/bc/ui2/app_index/?sap.app/id=\"+t+\"&fields=descriptorUrl\",type:\"GET\"};return this.ajaxRequest(r).then(function(t){var r=t.results;return this.getAppVariantDescriptorInfo(r,e)}.bind(this))},e},!0);",
		"sap/ui/rta/command/AddODataProperty.js": "/*!\n * UI development toolkit for HTML5 (OpenUI5)\n * (c) Copyright 2009-2017 SAP SE or an SAP affiliate company.\n * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.\n */\nsap.ui.define([\"sap/ui/rta/command/FlexCommand\"],function(t){\"use strict\";var e=t.extend(\"sap.ui.rta.command.AddODataProperty\",{metadata:{library:\"sap.ui.rta\",properties:{index:{type:\"int\"},newControlId:{type:\"string\"},bindingString:{type:\"string\"},parentId:{type:\"string\"},oDataServiceVersion:{type:\"string\"}}}});return e.prototype._getChangeSpecificData=function(){return{changeType:this.getChangeType(),index:this.getIndex(),newControlId:this.getNewControlId(),bindingPath:this.getBindingString(),parentId:this.getParentId(),oDataServiceVersion:this.getODataServiceVersion()}},e},!0);",
		"sap/ui/rta/command/appDescriptor/AddLibrary.js": "/*!\n * UI development toolkit for HTML5 (OpenUI5)\n * (c) Copyright 2009-2017 SAP SE or an SAP affiliate company.\n * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.\n */\nsap.ui.define([\"sap/ui/rta/command/appDescriptor/AppDescriptorCommand\",\"sap/ui/fl/descriptorRelated/api/DescriptorInlineChangeFactory\"],function(r,e){\"use strict\";var t=r.extend(\"sap.ui.rta.command.appDescriptor.AddLibrary\",{metadata:{library:\"sap.ui.rta\",properties:{requiredLibraries:{type:\"object\"},layer:{type:\"string\"}},events:{}}});return t.prototype.prepare=function(r){return this.setLayer(r.layer),!0},t.prototype.execute=function(){var r=[];if(this.getRequiredLibraries()){Object.keys(this.getRequiredLibraries()).forEach(function(e){r.push(sap.ui.getCore().loadLibrary(e,!0))})}return Promise.all(r)},t.prototype._create=function(){var r={};return r.libraries=this.getRequiredLibraries(),e.create_ui5_addLibraries(r)},t},!0);",
		"sap/ui/rta/command/appDescriptor/AppDescriptorCommand.js": "/*!\n * UI development toolkit for HTML5 (OpenUI5)\n * (c) Copyright 2009-2017 SAP SE or an SAP affiliate company.\n * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.\n */\nsap.ui.define([\"sap/ui/rta/command/BaseCommand\",\"sap/ui/fl/descriptorRelated/api/DescriptorInlineChangeFactory\",\"sap/ui/fl/descriptorRelated/api/DescriptorChangeFactory\"],function(e,t,r){\"use strict\";var n=e.extend(\"sap.ui.rta.command.AppDescriptorCommand\",{metadata:{library:\"sap.ui.rta\",properties:{reference:{type:\"string\"},appComponent:{type:\"object\"}},events:{}}});return n.prototype.getPreparedChange=function(){return this._oPreparedChange},n.prototype._create=function(){},n.prototype.createAndStore=function(){return this._create().then(function(e){return(new r).createNew(this.getReference(),e,this.getLayer(),this.getAppComponent())}.bind(this)).then(function(e){var t=e.store();this._oPreparedChange=t}.bind(this))},n},!0);",
		"sap/ui/rta/command/BaseCommand.js": "/*!\n * UI development toolkit for HTML5 (OpenUI5)\n * (c) Copyright 2009-2017 SAP SE or an SAP affiliate company.\n * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.\n */\nsap.ui.define([\"sap/ui/base/ManagedObject\"],function(e){\"use strict\";var t=e.extend(\"sap.ui.rta.command.BaseCommand\",{metadata:{library:\"sap.ui.rta\",properties:{name:{type:\"string\"}},associations:{element:{type:\"sap.ui.core.Element\"}},events:{}}});return t.prototype.getElement=function(){var e=this.getAssociation(\"element\");return sap.ui.getCore().byId(e)},t.prototype.prepare=function(){return!0},t.prototype.execute=function(){return Promise.resolve()},t.prototype.undo=function(){return Promise.resolve()},t.prototype.isEnabled=function(){return!0},t},!0);",
		"sap/ui/rta/command/BindProperty.js": "/*!\n * UI development toolkit for HTML5 (OpenUI5)\n * (c) Copyright 2009-2017 SAP SE or an SAP affiliate company.\n * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.\n */\nsap.ui.define([\"sap/ui/rta/command/FlexCommand\",\"sap/ui/rta/Utils\"],function(e,t){\"use strict\";var n=e.extend(\"sap.ui.rta.command.BindProperty\",{metadata:{library:\"sap.ui.rta\",properties:{propertyName:{type:\"string\"},newBinding:{type:\"string\",bindable:!1},changeType:{type:\"string\",defaultValue:\"propertyBindingChange\"}},associations:{},events:{}}});return n.prototype.bindProperty=function(t,n){return\"newBinding\"===t?this.setNewBinding(n.bindingString):e.prototype.bindProperty.apply(this,arguments)},n.prototype._getChangeSpecificData=function(){var e=this.getElement();return{changeType:this.getChangeType(),selector:{id:e.getId(),type:e.getMetadata().getName()},content:{property:this.getPropertyName(),newBinding:this.getNewBinding()}}},n},!0);",
		"sap/ui/rta/command/Combine.js": "/*!\n * UI development toolkit for HTML5 (OpenUI5)\n * (c) Copyright 2009-2017 SAP SE or an SAP affiliate company.\n * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.\n */\nsap.ui.define([\"sap/ui/rta/command/FlexCommand\"],function(e){\"use strict\";var t=e.extend(\"sap.ui.rta.command.Combine\",{metadata:{library:\"sap.ui.rta\",properties:{source:{type:\"any\"},combineFields:{type:\"any[]\"}},associations:{},events:{}}});return t.prototype._getChangeSpecificData=function(){var e=[];return this.getCombineFields().forEach(function(t){e.push(t.getId())}),{changeType:this.getChangeType(),sourceControlId:this.getSource().getId(),combineFieldIds:e}},t},!0);",
		"sap/ui/rta/command/CommandFactory.js": "/*!\n * UI development toolkit for HTML5 (OpenUI5)\n * (c) Copyright 2009-2017 SAP SE or an SAP affiliate company.\n * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.\n */\nsap.ui.define([\"sap/ui/base/ManagedObject\",\"sap/ui/dt/ElementUtil\",\"sap/ui/dt/OverlayRegistry\",\"sap/ui/fl/registry/ChangeRegistry\"],function(e,t,r,a){\"use strict\";var n=function(e,t,r){var a;return!!(a=\"string\"==typeof r?r:r&&r.changeType)&&(t.setChangeType(a),!0)},o=function(e,t,r){var a=t.element||sap.ui.getCore().byId(t.element.id);return r.getAggregationAction(\"createContainer\",a)[0]},i=function(e,t,r){var a=t.movedElements[0].element||sap.ui.getCore().byId(t.movedElements[0].id),n=r.getAction(\"move\",a);if(!n&&\"sap.ui.dt.ElementDesignTimeMetadata\"===r.getMetadata().getName()){var o=t.source.aggregation,i=r.createAggregationDesignTimeMetadata(o);n=i.getAction(\"move\",a),i.destroy()}return n},c=function(e,t,r){var a=t.renamedElement;return r.getAction(\"rename\",a)},s=function(t,r,a){var n=r.removedElement;if(n){if(!(n instanceof e))throw new Error(\"No valid 'removedElement' found\")}else n=t;return a.getAction(\"remove\",n)},m=function(e,t,r){var a=t.source;return r.getAction(\"combine\",a)},u=function(e,t,r){var a=t.source;return r.getAction(\"split\",a)},d=function(e,t,r){var a=t.element;return r.getAction(\"addODataProperty\",a)},g=function(e,t,r){var a=t.directParent;return r.getAction(\"reveal\",a)},p={composite:{clazz:\"sap.ui.rta.command.CompositeCommand\"},property:{clazz:\"sap.ui.rta.command.Property\"},bindProperty:{clazz:\"sap.ui.rta.command.BindProperty\"},createContainer:{clazz:\"sap.ui.rta.command.CreateContainer\",configure:o},move:{clazz:\"sap.ui.rta.command.Move\",configure:i},remove:{clazz:\"sap.ui.rta.command.Remove\",configure:s},rename:{clazz:\"sap.ui.rta.command.Rename\",configure:c},addODataProperty:{clazz:\"sap.ui.rta.command.AddODataProperty\",configure:d},reveal:{clazz:\"sap.ui.rta.command.Reveal\",configure:g},combine:{clazz:\"sap.ui.rta.command.Combine\",configure:m},split:{clazz:\"sap.ui.rta.command.Split\",configure:u},settings:{clazz:\"sap.ui.rta.command.Settings\"},addLibrary:{clazz:\"sap.ui.rta.command.appDescriptor.AddLibrary\"}},l=function(e,t,a,o,i,c){t=t[0].toLowerCase()+t.slice(1);var s=p[t];if(!s)throw new Error(\"Command '\"+t+\"' doesn't exist, check typing\");var m=s.clazz;jQuery.sap.require(m);var u=jQuery.sap.getObject(m),d=e instanceof sap.ui.base.ManagedObject;a=jQuery.extend(a,{element:d?e:void 0,selector:d?void 0:e,name:t});var g;s.configure&&(g=s.configure(e,a,o));var l;g&&g.changeOnRelevantContainer&&(l=r.getOverlay(e),a=jQuery.extend(a,{element:l.getRelevantContainer()}),e=a.element),g&&g.getState&&(a=jQuery.extend(a,{fnGetState:g.getState})),g&&g.restoreState&&(a=jQuery.extend(a,{fnRestoreState:g.restoreState}));var f=new u(a),v=!0;return s.configure&&(v=n(0,f,g)),v&&f.prepare(i,c)?f:void f.destroy()},f=e.extend(\"sap.ui.rta.command.CommandFactory\",{metadata:{library:\"sap.ui.rta\",properties:{flexSettings:{type:\"object\"}},associations:{},events:{}}});return f.prototype.init=function(){this.setProperty(\"flexSettings\",{layer:\"CUSTOMER\",developerMode:!0})},f.prototype.setFlexSettings=function(e){this.setProperty(\"flexSettings\",jQuery.extend(this.getFlexSettings(),e))},f.prototype.getCommandFor=function(e,t,r,a,n){return l(e,t,r,a,this.getFlexSettings(),n)},f.getCommandFor=function(e,t,r,a,n){return l(e,t,r,a,n)},f},!0);",
		"sap/ui/rta/command/CompositeCommand.js": "/*!\n * UI development toolkit for HTML5 (OpenUI5)\n * (c) Copyright 2009-2017 SAP SE or an SAP affiliate company.\n * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.\n */\nsap.ui.define([\"sap/ui/rta/command/BaseCommand\",\"sap/ui/fl/Utils\"],function(e,t){\"use strict\";var a=e.extend(\"sap.ui.rta.command.CompositeCommand\",{metadata:{library:\"sap.ui.rta\",properties:{},aggregations:{commands:{type:\"sap.ui.rta.command.BaseCommand\",multiple:!0}},events:{}}});return a.prototype.execute=function(){var e=[];return this._forEachCommand(function(t){e.push(t.execute.bind(t))}),t.execPromiseQueueSequentially(e)},a.prototype.undo=function(){var e=[];return this._forEachCommandInReverseOrder(function(t){e.push(t.undo.bind(t))}),t.execPromiseQueueSequentially(e)},a.prototype._forEachCommand=function(e){this.getCommands().forEach(e,this)},a.prototype._forEachCommandInReverseOrder=function(e){for(var t=this.getCommands(),a=t.length-1;a>=0;a--)e.call(this,t[a])},a},!0);",
		"sap/ui/rta/command/CreateContainer.js": "/*!\n * UI development toolkit for HTML5 (OpenUI5)\n * (c) Copyright 2009-2017 SAP SE or an SAP affiliate company.\n * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.\n */\nsap.ui.define([\"jquery.sap.global\",\"sap/ui/rta/command/FlexCommand\"],function(e,t){\"use strict\";var n=t.extend(\"sap.ui.rta.command.CreateContainer\",{metadata:{library:\"sap.ui.rta\",properties:{index:{type:\"int\"},newControlId:{type:\"string\"},label:{type:\"string\"}},associations:{},events:{}}});return n.prototype._getChangeSpecificData=function(e){return{changeType:this.getChangeType(),index:this.getIndex(),newControlId:this.getNewControlId(),newLabel:this.getLabel()}},n},!0);",
		"sap/ui/rta/command/FlexCommand.js": "/*!\n * UI development toolkit for HTML5 (OpenUI5)\n * (c) Copyright 2009-2017 SAP SE or an SAP affiliate company.\n * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.\n */\nsap.ui.define([\"sap/ui/rta/command/BaseCommand\",\"sap/ui/fl/FlexControllerFactory\",\"sap/ui/rta/ControlTreeModifier\",\"sap/ui/fl/Utils\"],function(e,t,n,o){\"use strict\";var r=e.extend(\"sap.ui.rta.command.FlexCommand\",{metadata:{library:\"sap.ui.rta\",properties:{changeType:{type:\"string\"},fnGetState:{type:\"any\"},state:{type:\"any\"},fnRestoreState:{type:\"any\"},selector:{type:\"object\"}},associations:{},events:{}}});return r.prototype.getElementId=function(){var e=this.getElement();return e?e.getId():this.getSelector().id},r.prototype.getAppComponent=function(){if(!this._oControlAppComponent){var e=this.getElement();this._oControlAppComponent=e?o.getAppComponentForControl(e):this.getSelector().appComponent}return this._oControlAppComponent},r.prototype.prepare=function(e,t){if(!this.getSelector()&&this.getElement()){var n={id:this.getElement().getId(),appComponent:this.getAppComponent(),controlType:o.getControlType(this.getElement())};this.setSelector(n)}try{this._oPreparedChange=this._createChange(e,t)}catch(e){return jQuery.sap.log.error(e.message||e.name),!1}return!0},r.prototype.getPreparedChange=function(){return this._oPreparedChange||this.prepare(),this._oPreparedChange},r.prototype.execute=function(){var e=this.getPreparedChange();return this._applyChange(e)},r.prototype._getChangeSpecificData=function(){return{changeType:this.getChangeType(),selector:{id:this.getElementId()}}},r.prototype._createChange=function(e,t){return this._createChangeFromData(this._getChangeSpecificData(),e,t)},r.prototype._createChangeFromData=function(e,n,o){n&&jQuery.extend(e,n);var r,a=this.getAppComponent().getModel(\"$FlexVariants\");a&&o&&(r=a.getCurrentVariantRef(o));var i=t.createForControl(this.getAppComponent()),p={variantManagementKey:o,variantKey:r};return r&&jQuery.extend(e,p),i.createChange(e,this.getElement()||this.getSelector())},r.prototype.undo=function(){return this.getFnRestoreState()?this.getFnRestoreState()(this.getElement()||this.getSelector(),this.getState()):this._aRecordedUndo?n.performUndo(this._aRecordedUndo):jQuery.sap.log.warning(\"Undo is not available for \"+this.getElement()||this.getSelector()),Promise.resolve()},r.prototype._applyChange=function(e,o){var r=e.change||e,a=this.getAppComponent(),i=r.getDefinition(),p=n.bySelector(r.getSelector(),a);this.getFnGetState()?this.setState.call(this,this.getFnGetState()(this.getElement()||this.getSelector(),i,{modifier:n,appComponent:a})):n.startRecordingUndo();var s=t.createForControl(this.getAppComponent());return Promise.resolve(s.checkTargetAndApplyChange(r,p,{modifier:n,appComponent:a})).then(function(){o&&s.removeFromAppliedChangesOnControl(r,a,p)}).then(function(){this.getFnGetState()||(this._aRecordedUndo=n.stopRecordingUndo())}.bind(this))},r},!0);",
		"sap/ui/rta/command/LREPSerializer.js": "/*!\n * UI development toolkit for HTML5 (OpenUI5)\n * (c) Copyright 2009-2017 SAP SE or an SAP affiliate company.\n * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.\n */\nsap.ui.define([\"sap/ui/base/ManagedObject\",\"sap/ui/rta/command/Stack\",\"sap/ui/fl/FlexControllerFactory\",\"sap/ui/fl/Utils\",\"sap/ui/rta/ControlTreeModifier\"],function(e,t,o,a,n){\"use strict\";var r=e.extend(\"sap.ui.rta.command.LREPSerializer\",{metadata:{library:\"sap.ui.rta\",associations:{rootControl:{type:\"sap.ui.core.Control\"}},properties:{commandStack:{type:\"object\"}},aggregations:{}}});return r.prototype.setCommandStack=function(e){this.setProperty(\"commandStack\",e),e.attachCommandExecuted(function(e){this.handleCommandExecuted(e)}.bind(this))},r.prototype.handleCommandExecuted=function(e){var t=e.getParameters(),a=this.getCommandStack().getSubCommands(t.command);if(!t.undo){var r=[];return a.forEach(function(e){if(e instanceof sap.ui.rta.command.FlexCommand){var t=e.getAppComponent();o.createForControl(t).addPreparedChange(e.getPreparedChange(),t)}else e instanceof sap.ui.rta.command.AppDescriptorCommand&&r.push(e.createAndStore())}),Promise.all(r)}var i;a.forEach(function(e){var t=e.getPreparedChange(),a=e.getAppComponent();if(i=o.createForControl(a),e instanceof sap.ui.rta.command.FlexCommand){var r=n.bySelector(t.getSelector(),a);i.removeFromAppliedChangesOnControl(t,a,r)}i.deleteChange(t)})},r.prototype.saveCommands=function(){var e=sap.ui.getCore().byId(this.getRootControl());if(!e)throw new Error(\"Can't save commands without root control instance!\");var t=o.createForControl(e);return t.saveAll().then(function(){var e=a.getComponentClassName(sap.ui.getCore().byId(this.getRootControl())).replace(\".Component\",\"\"),n=sap.ui.getCore().byId(this.getRootControl()),r=a.getAppVersionFromManifest(a.getAppComponentForControl(n).getManifest());return t=o.create(e,r),t.saveAll()}.bind(this)).then(function(){jQuery.sap.log.info(\"UI adaptation successfully transfered changes to layered repository\"),this.getCommandStack().removeAllCommands()}.bind(this))},r},!0);",
		"sap/ui/rta/command/Move.js": "/*!\n * UI development toolkit for HTML5 (OpenUI5)\n * (c) Copyright 2009-2017 SAP SE or an SAP affiliate company.\n * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.\n */\nsap.ui.define([\"jquery.sap.global\",\"sap/ui/rta/command/FlexCommand\"],function(e,t){\"use strict\";var a=t.extend(\"sap.ui.rta.command.Move\",{metadata:{library:\"sap.ui.rta\",properties:{movedElements:{type:\"any[]\"},target:{type:\"any\"},source:{type:\"any\"}},associations:{},events:{}}});return a.prototype._getChangeSpecificData=function(e){var t=e?this.getTarget():this.getSource(),a=e?this.getSource():this.getTarget();t.parent&&(t.id=t.parent.getId(),delete t.parent),a.parent&&(a.id=a.parent.getId(),delete a.parent);var r={changeType:this.getChangeType(),source:t,target:a,movedElements:[]};return this.getMovedElements().forEach(function(t){r.movedElements.push({id:t.id||t.element&&t.element.getId(),sourceIndex:e?t.targetIndex:t.sourceIndex,targetIndex:e?t.sourceIndex:t.targetIndex})}),r},a.prototype.prepare=function(e,a){var r=t.prototype.prepare.apply(this,arguments);return r&&(this._oPreparedUndoChange=this._createChangeFromData(this._getChangeSpecificData(!0),e,a)),r},a.prototype.undo=function(){return this._applyChange(this._oPreparedUndoChange,!0)},a},!0);",
		"sap/ui/rta/command/Property.js": "/*!\n * UI development toolkit for HTML5 (OpenUI5)\n * (c) Copyright 2009-2017 SAP SE or an SAP affiliate company.\n * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.\n */\nsap.ui.define([\"sap/ui/rta/command/FlexCommand\",\"sap/ui/rta/Utils\"],function(e,t){\"use strict\";var a=e.extend(\"sap.ui.rta.command.Property\",{metadata:{library:\"sap.ui.rta\",properties:{propertyName:{type:\"string\"},newValue:{type:\"any\"},semanticMeaning:{type:\"string\"},changeType:{type:\"string\",defaultValue:\"propertyChange\"}},associations:{},events:{}}});return a.prototype._getChangeSpecificData=function(){var e=this.getElement();return{changeType:this.getChangeType(),selector:{id:e.getId(),type:e.getMetadata().getName()},content:{property:this.getPropertyName(),newValue:this.getNewValue(),semantic:this.getSemanticMeaning()}}},a},!0);",
		"sap/ui/rta/command/Remove.js": "/*!\n * UI development toolkit for HTML5 (OpenUI5)\n * (c) Copyright 2009-2017 SAP SE or an SAP affiliate company.\n * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.\n */\nsap.ui.define([\"sap/ui/rta/command/FlexCommand\"],function(e){\"use strict\";var t=e.extend(\"sap.ui.rta.command.Remove\",{metadata:{library:\"sap.ui.rta\",properties:{removedElement:{type:\"any\"}},associations:{},events:{}}});return t.prototype._getChangeSpecificData=function(){var e=this.getRemovedElement()||this.getElement();return{changeType:this.getChangeType(),removedElement:{id:e.getId()}}},t},!0);",
		"sap/ui/rta/command/Rename.js": "/*!\n * UI development toolkit for HTML5 (OpenUI5)\n * (c) Copyright 2009-2017 SAP SE or an SAP affiliate company.\n * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.\n */\nsap.ui.define([\"jquery.sap.global\",\"sap/ui/rta/command/FlexCommand\"],function(e,t){\"use strict\";var a=t.extend(\"sap.ui.rta.command.Rename\",{metadata:{library:\"sap.ui.rta\",properties:{renamedElement:{type:\"object\"},newValue:{type:\"string\",defaultValue:\"new text\"}},associations:{},events:{}}});return a.prototype._getChangeSpecificData=function(){return{changeType:this.getChangeType(),selector:{id:this.getElement().getId()},renamedElement:{id:this.getRenamedElement().getId()},value:this.getNewValue()}},a},!0);",
		"sap/ui/rta/command/Reveal.js": "/*!\n * UI development toolkit for HTML5 (OpenUI5)\n * (c) Copyright 2009-2017 SAP SE or an SAP affiliate company.\n * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.\n */\nsap.ui.define([\"sap/ui/rta/command/FlexCommand\"],function(e){\"use strict\";var t=e.extend(\"sap.ui.rta.command.Reveal\",{metadata:{library:\"sap.ui.rta\",properties:{revealedElementId:{type:\"string\"},directParent:\"object\"}}});return t.prototype._getChangeSpecificData=function(){var e={changeType:this.getChangeType()};return this.getRevealedElementId()&&(e.revealedElementId=this.getRevealedElementId()),e},t},!0);",
		"sap/ui/rta/command/Settings.js": "/*!\n * UI development toolkit for HTML5 (OpenUI5)\n * (c) Copyright 2009-2017 SAP SE or an SAP affiliate company.\n * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.\n */\nsap.ui.define([\"sap/ui/rta/command/FlexCommand\"],function(t){\"use strict\";var e=t.extend(\"sap.ui.rta.command.Settings\",{metadata:{library:\"sap.ui.rta\",properties:{content:{type:\"any\"}},associations:{},events:{}}});return e.prototype._getChangeSpecificData=function(t){return{changeType:this.getChangeType(),content:this.getContent()}},e.prototype.execute=function(){return this.getElement()?t.prototype.execute.apply(this,arguments):Promise.resolve()},e.prototype.undo=function(){return this.getElement()?t.prototype.undo.apply(this,arguments):Promise.resolve()},e},!0);",
		"sap/ui/rta/command/Split.js": "/*!\n * UI development toolkit for HTML5 (OpenUI5)\n * (c) Copyright 2009-2017 SAP SE or an SAP affiliate company.\n * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.\n */\nsap.ui.define([\"sap/ui/rta/command/FlexCommand\"],function(e){\"use strict\";var t=e.extend(\"sap.ui.rta.command.Split\",{metadata:{library:\"sap.ui.rta\",properties:{newElementIds:{type:\"string[]\"},source:{type:\"any\"},parentElement:{type:\"any\"}},associations:{},events:{}}});return t.prototype._getChangeSpecificData=function(){return{newElementIds:this.getNewElementIds(),sourceControlId:this.getSource().getId(),changeType:this.getChangeType(),parentId:this.getParentElement().getId()}},t},!0);",
		"sap/ui/rta/command/Stack.js": "/*!\n * UI development toolkit for HTML5 (OpenUI5)\n * (c) Copyright 2009-2017 SAP SE or an SAP affiliate company.\n * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.\n */\nsap.ui.define([\"sap/ui/base/ManagedObject\"],function(t){\"use strict\";var e=t.extend(\"sap.ui.rta.command.Stack\",{metadata:{library:\"sap.ui.rta\",properties:{},aggregations:{commands:{type:\"sap.ui.rta.command.BaseCommand\",multiple:!0}},events:{modified:{},commandExecuted:{parameters:{command:{type:\"object\"},undo:{type:\"boolean\"}}}}}});return e.prototype._toBeExecuted=-1,e.prototype._oLastCommand=Promise.resolve(),e.prototype._getCommandToBeExecuted=function(){return this.getCommands()[this._toBeExecuted]},e.prototype.pushExecutedCommand=function(t){this.push(t,!0)},e.prototype.push=function(t,e){if(this._bUndoneCommands)for(this._bUndoneCommands=!1;this._toBeExecuted>-1;)this.pop();this.insertCommand(t,0),e||this._toBeExecuted++,this.fireModified()},e.prototype.top=function(){return this.getCommands()[0]},e.prototype.pop=function(){return this._toBeExecuted>-1&&this._toBeExecuted--,this.removeCommand(0)},e.prototype.removeCommand=function(t,e){var o=this.removeAggregation(\"commands\",t,e);return this.fireModified(),o},e.prototype.removeAllCommands=function(t){var e=this.removeAllAggregation(\"commands\",t);return this._toBeExecuted=-1,this.fireModified(),e},e.prototype.isEmpty=function(){return 0===this.getCommands().length},e.prototype.execute=function(){return this._oLastCommand=this._oLastCommand.catch(function(){}).then(function(){var t=this._getCommandToBeExecuted();if(t)return t.execute().then(function(){this._toBeExecuted--,this.fireCommandExecuted({command:t,undo:!1}),this.fireModified()}.bind(this)).catch(function(t){return this.pop(),Promise.reject(t)}.bind(this))}.bind(this)),this._oLastCommand},e.prototype._unExecute=function(){if(this.canUndo()){this._bUndoneCommands=!0,this._toBeExecuted++;var t=this._getCommandToBeExecuted();return t?t.undo().then(function(){this.fireCommandExecuted({command:t,undo:!0}),this.fireModified()}.bind(this)):Promise.resolve()}return Promise.resolve()},e.prototype.canUndo=function(){return this._toBeExecuted+1<this.getCommands().length},e.prototype.undo=function(){return this._unExecute()},e.prototype.canRedo=function(){return!!this._getCommandToBeExecuted()},e.prototype.redo=function(){return this.execute()},e.prototype.pushAndExecute=function(t){return this.push(t),this.execute()},e.prototype.getAllExecutedCommands=function(){for(var t=[],e=this.getCommands(),o=e.length-1;o>this._toBeExecuted;o--){var n=this.getSubCommands(e[o]);t=t.concat(n)}return t},e.prototype.getSubCommands=function(t){var e=[];return t.getCommands?t.getCommands().forEach(function(t){var o=this.getSubCommands(t);e=e.concat(o)},this):e.push(t),e},e},!0);",
		"sap/ui/rta/ControlTreeModifier.js": "/*!\n * UI development toolkit for HTML5 (OpenUI5)\n * (c) Copyright 2009-2017 SAP SE or an SAP affiliate company.\n * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.\n */\nsap.ui.define([\"sap/ui/fl/changeHandler/JsControlTreeModifier\"],function(t){\"use strict\";var e,i={startRecordingUndo:function(){e=[]},stopRecordingUndo:function(){var t=e;return e=void 0,t},performUndo:function(t){for(;t.length;){var e=t.pop();this[e.name].apply(this,e.properties)}},_saveUndoOperation:function(t,i){e&&e.push({name:t,properties:i})},setVisible:function(e,i){var r=this.getVisible(e),n=t.setVisible.apply(this,arguments);return r!==this.getVisible(e)&&this._saveUndoOperation(\"setVisible\",[e,r]),n},setStashed:function(e,i){var r,n=e.getId();r=e.getVisible?!e.getVisible():e.getStashed(),t.setStashed.apply(this,arguments);var o=sap.ui.getCore().byId(n);r!==i&&this._saveUndoOperation(\"setStashed\",[o,!i])},bindProperty:function(e,i,r){var n,o=e.getBindingInfo(i),a=e.getMetadata().getPropertyLikeSetting(i);if(a){n=e[a._sGetter]()}t.bindProperty.apply(this,arguments),o?this._saveUndoOperation(\"bindProperty\",[e,i,o]):this._saveUndoOperation(\"unbindProperty\",[e,i]),n&&this._saveUndoOperation(\"setProperty\",[e,i,n])},unbindProperty:function(e,i){var r=e.getBindingInfo(i);t.unbindProperty.apply(this,arguments),r&&this._saveUndoOperation(\"bindProperty\",[e,i,r])},setProperty:function(e,i,r){var n,o=e.getMetadata().getPropertyLikeSetting(i);if(o){n=e[o._sGetter]()}var a=t.setProperty.apply(this,arguments);return n!==r&&this._saveUndoOperation(\"setProperty\",[e,i,n]),a},setPropertyBinding:function(e,i,r){var n,o=e.getMetadata().getPropertyLikeSetting(i);if(o){n=e[o._sGetter]()}t.setPropertyBinding.apply(this,arguments),n!==r&&this._saveUndoOperation(\"setPropertyBinding\",[e,i,n])},createControl:function(e,i,r,n){var o=this.bySelector(n,i),a=t.createControl.apply(this,arguments);if(!o){var s=this.bySelector(n,i);this._saveUndoOperation(\"destroy\",[s])}return a},destroy:function(t){t&&t.destroy()},insertAggregation:function(e,i,r,n){var o=t.getAggregation.call(this,e,i);if(t.insertAggregation.apply(this,arguments),e&&e.getMetadata){var a=e.getMetadata(),s=a.getAllAggregations();if(s){var g=s[i];g&&(g.multiple?this._saveUndoOperation(\"removeAggregation\",[e,i,r]):this._saveUndoOperation(\"insertAggregation\",[e,i,o]))}}},removeAggregation:function(e,i,r){var n,o;e&&r&&(o=t.getAggregation.call(this,e,i))&&o.some(function(t,e){if(t===r)return n=e,!0}),t.removeAggregation.apply(this,arguments),(n||0===n)&&this._saveUndoOperation(\"insertAggregation\",[e,i,r,n])},removeAllAggregation:function(e,i){var r,n=[];e&&(r=t.getAggregation.call(this,e,i)),r&&r instanceof Array?n=r.slice():r&&r instanceof Object&&(n[0]=r),t.removeAllAggregation(e,i),n&&n.forEach(function(t){this._saveUndoOperation(\"insertAggregation\",[e,i,t])},this)}};return jQuery.sap.extend(!0,{},t,i)},!0);",
		"sap/ui/rta/library.js": "/*!\n * UI development toolkit for HTML5 (OpenUI5)\n * (c) Copyright 2009-2017 SAP SE or an SAP affiliate company.\n * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.\n */\nsap.ui.define([\"jquery.sap.global\",\"sap/ui/core/Core\",\"sap/ui/core/library\"],function(e,i,s){\"use strict\";return sap.ui.getCore().initLibrary({name:\"sap.ui.rta\",version:\"1.50.8\",dependencies:[\"sap.ui.core\",\"sap.m\",\"sap.ui.fl\",\"sap.ui.dt\"],types:[],interfaces:[],controls:[],elements:[]}),sap.ui.rta},!0);",
		"sap/ui/rta/plugin/additionalElements/AddElementsDialog.js": "/*!\n * UI development toolkit for HTML5 (OpenUI5)\n * (c) Copyright 2009-2017 SAP SE or an SAP affiliate company.\n * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.\n */\nsap.ui.define([\"jquery.sap.global\",\"sap/ui/base/ManagedObject\",\"sap/ui/commons/Label\",\"sap/ui/commons/LabelDesign\",\"sap/m/Dialog\",\"sap/ui/model/json/JSONModel\",\"sap/m/SearchField\",\"sap/m/Button\",\"sap/m/Toolbar\",\"sap/m/ToolbarSpacer\",\"sap/ui/model/Filter\",\"sap/ui/model/FilterOperator\",\"sap/ui/rta/command/CommandFactory\",\"sap/ui/rta/command/CompositeCommand\",\"sap/m/List\",\"sap/m/CustomListItem\",\"sap/m/ListType\",\"sap/m/ScrollContainer\",\"sap/ui/model/Sorter\",\"sap/ui/dt/ElementUtil\",\"sap/m/VBox\",\"sap/ui/rta/Utils\"],function(t,e,o,i,s,n,a,r,l,p,d,u,c,h,m,_,g,f,C,b,y,w){\"use strict\";var T=e.extend(\"sap.ui.rta.plugin.additionalElements.AddElementsDialog\",{metadata:{library:\"sap.ui.rta\",properties:{customFieldEnabled:{type:\"boolean\",defaultValue:!1},title:{type:\"string\"}},events:{opened:{},openCustomField:{}}}});return T.prototype.init=function(){this._oTextResources=sap.ui.getCore().getLibraryResourceBundle(\"sap.ui.rta\"),this._bAscendingSortOrder=!1,this._oDialog=(new s).addStyleClass(\"sapUIRtaFieldRepositoryDialog\"),this._oDialog.addStyleClass(w.getRtaStyleClassName()),this._oDialog.removeStyleClass(\"sapUiPopupWithPadding\"),this._oDialog.setModel(new n({elements:[]}));var t=this._createContent(),e=this._createButtons();t.forEach(function(t){this._oDialog.addContent(t)},this),e.forEach(function(t){this._oDialog.addButton(t)},this),this._oDialog.setInitialFocus(this._oInput)},T.prototype._createContent=function(){this._oInput=new a({width:\"100%\",liveChange:[this._updateModelFilter,this]}).addStyleClass(\"resourceListIF\");var t=new r({text:\"\",icon:\"sap-icon://sort\",press:[this._resortList,this]});this._oCustomFieldButton=new r({text:\"\",icon:\"sap-icon://add\",tooltip:this._oTextResources.getText(\"BTN_FREP_CCF\"),enabled:this.getCustomFieldEnabled(),press:[this._redirectToCustomFieldCreation,this]}),this._oToolbarSpacer1=new p,this.oInputFields=new l({content:[this._oInput,t,this._oToolbarSpacer1,this._oCustomFieldButton]});var e=new o({design:i.Bold,tooltip:\"{tooltip}\",text:{parts:[{path:\"label\"},{path:\"referencedComplexPropertyName\"},{path:\"duplicateComplexName\"}],formatter:function(t,e,o){return o&&e&&(t+=\" (\"+e+\")\"),t}}}),s=new o({text:{parts:[{path:\"originalLabel\"}],formatter:function(t){return t?this._oTextResources.getText(\"LBL_FREP\",t):\"\"}.bind(this)},visible:{parts:[{path:\"originalLabel\"}],formatter:function(t){return!!t}}}),n=new y;n.addItem(e),n.addItem(s);var d=new C(\"label\",this._bAscendingSortOrder);this._oList=new m({mode:\"MultiSelect\",includeItemInSelection:!0,growing:!0,growingScrollToLoad:!0}).setNoDataText(this._oTextResources.getText(\"MSG_NO_FIELDS\",this._oTextResources.getText(\"MULTIPLE_CONTROL_NAME\").toLowerCase()));var u=new _({type:g.Active,selected:\"{selected}\",content:[n]});this._oList.bindItems({path:\"/elements\",template:u,sorter:d});var c=new f({content:this._oList,vertical:!0,horizontal:!1}).addStyleClass(\"sapUIRtaCCDialogScrollContainer\");return[this.oInputFields,c]},T.prototype._createButtons=function(){this._oOKButton=new r({text:this._oTextResources.getText(\"BTN_FREP_OK\"),press:[this._submitDialog,this]});var t=new r({text:this._oTextResources.getText(\"BTN_FREP_CANCEL\"),press:[this._cancelDialog,this]});return[this._oOKButton,t]},T.prototype._submitDialog=function(){this._oDialog.close(),this._fnResolve()},T.prototype._cancelDialog=function(){this._oList.removeSelections(),this._oDialog.close(),this._fnReject()},T.prototype.setElements=function(t){this._oDialog.getModel().setProperty(\"/elements\",t)},T.prototype.getElements=function(){return this._oDialog.getModel().getProperty(\"/elements\")},T.prototype.getSelectedElements=function(){return this._oDialog.getModel().getObject(\"/elements\").filter(function(t){return t.selected})},T.prototype.open=function(t){return new Promise(function(t,e){this._fnResolve=t,this._fnReject=e,this._oDialog.oPopup.attachOpened(function(){this.fireOpened()}.bind(this)),this._oDialog.open()}.bind(this))},T.prototype._resortList=function(t){this._bAscendingSortOrder=!this._bAscendingSortOrder;var e=this._oList.getBinding(\"items\"),o=[];o.push(new C(\"label\",this._bAscendingSortOrder)),e.sort(o)},T.prototype._updateModelFilter=function(t){var e=t.getParameter(\"newValue\"),o=this._oList.getBinding(\"items\");if(\"string\"==typeof e){var i=new d(\"label\",u.Contains,e),s=new d(\"originalLabel\",u.Contains,e),n=new d(\"referencedComplexPropertyName\",u.Contains,e),a=new d(\"duplicateComplexName\",u.EQ,!0),r=new d({filters:[n,a],and:!0}),l=new d({filters:[i,s,r],and:!1});o.filter([l])}else o.filter([])},T.prototype._redirectToCustomFieldCreation=function(t){this.fireOpenCustomField(),this._oDialog.close()},T.prototype.setTitle=function(t){e.prototype.setProperty.call(this,\"title\",t,!0),this._oDialog.setTitle(t)},T.prototype.setCustomFieldEnabled=function(t){e.prototype.setProperty.call(this,\"customFieldEnabled\",t,!0),this._oCustomFieldButton.setEnabled(t)},T},!0);",
		"sap/ui/rta/plugin/additionalElements/AdditionalElementsAnalyzer.js": "/*!\n * UI development toolkit for HTML5 (OpenUI5)\n * (c) Copyright 2009-2017 SAP SE or an SAP affiliate company.\n * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.\n */\nsap.ui.define([\"jquery.sap.global\",\"sap/ui/core/StashedControlSupport\",\"sap/ui/dt/ElementUtil\",\"sap/ui/rta/Utils\",\"sap/ui/rta/util/BindingsExtractor\"],function(e,t,n,a,r){\"use strict\";function i(t,n){var a=e.extend({},t);a.entityName=n.name;var r=t[\"com.sap.vocabularies.Common.v1.Label\"];a.fieldLabel=r&&r.String;var i=t[\"com.sap.vocabularies.Common.v1.QuickInfo\"];a.quickInfo=i&&i.String;var o=t[\"com.sap.vocabularies.Common.v1.FieldControl\"];return a.visible=!(o&&\"com.sap.vocabularies.Common.v1.FieldControlType/Hidden\"===o.EnumMember),a}function o(e){return!(!e||!e.type||0===e.type.toLowerCase().indexOf(\"edm\"))}function l(e,t,n){return e.reduce(function(e,a){var r=i(a,n);if(o(r)){var l=t.getODataComplexType(r.type);r=l.property.map(function(e){return e=i(e,n),e.bindingPath=r.name+\"/\"+e.name,e.referencedComplexPropertyName=r.fieldLabel||r.name,e})}else r.bindingPath=a.name;return e.concat(r)},[])}function u(e,t){return e.filter(function(e){return e.visible}).filter(function(e){var n=e[\"com.sap.vocabularies.Common.v1.FieldControl\"],a=n&&n.Path;if(a){return 0!==t.getBindingContext().getProperty(a)}return!0})}function p(e){var t=e.getModel(),n={property:[],navigationProperty:[],navigationEntityNames:[]};if(t){var a=t.getMetadata().getName();if(\"sap.ui.model.odata.ODataModel\"===a||\"sap.ui.model.odata.v2.ODataModel\"===a){var r=t.getMetaModel();return r.loaded().then(function(){var t=e.getBindingContext();if(t){var a=t.getPath(),i=r.getMetaContext(a),o=i.getObject();n.property=o.property||[],n.property=l(n.property,r,o),n.property=u(n.property,e),o.navigationProperty&&(n.navigationProperty=o.navigationProperty,o.navigationProperty.forEach(function(e){var t=r.getODataAssociationEnd(o,e.name)&&r.getODataAssociationEnd(o,e.name).type,a=r.getODataEntityType(t);a&&a.name&&-1===n.navigationEntityNames.indexOf(a.name)&&n.navigationEntityNames.push(a.name)}))}return n})}}return Promise.resolve(n)}function m(e){return{selected:!1,label:e.fieldLabel||e.name,referencedComplexPropertyName:e.referencedComplexPropertyName?e.referencedComplexPropertyName:\"\",duplicateComplexName:!!e.duplicateComplexName&&e.duplicateComplexName,tooltip:e.quickInfo||e.fieldLabel,originalLabel:\"\",type:\"odata\",entityType:e.entityName,name:e.name,bindingPath:e.bindingPath}}function d(e){var t=e.element,n=e.action;return{selected:!1,label:a.getLabelForElement(t,n.getLabel),tooltip:a.getLabelForElement(t,n.getLabel),referencedComplexPropertyName:t.referencedComplexPropertyName?t.referencedComplexPropertyName:\"\",duplicateComplexName:!!t.duplicateComplexName&&t.duplicateComplexName,bindingPaths:t.bindingPaths,originalLabel:t.renamedLabel&&t.fieldLabel!==t.labelFromOData?t.labelFromOData:\"\",type:\"invisible\",element:t}}function g(e,t){if(t){var r=a.getEntityTypeByPath(e.getModel(),e.getBindingContext().getPath());return n.findAllSiblingsInContainer(e,t).filter(function(e){return a.getEntityTypeByPath(e.getModel(),e.getBindingContext().getPath())===r})}return[e]}function c(e){return e.forEach(function(e,t,n){if(!0!==e.duplicateComplexName)for(var a=t+1;a<n.length-1;a++)e.fieldLabel===n[a].fieldLabel&&(e.duplicateComplexName=!0,n[a].duplicateComplexName=!0)}),e}function f(e,t){return t.some(function(t){return t.fieldLabel===e.fieldLabel})}function s(e,t){e.bindingPaths=[],e.bindingContextPaths=[];for(var n=r.getBindings(e,t),a=0,i=n.length;a<i;a++)n[a].getPath&&n[a].getPath()&&-1===e.bindingPaths.indexOf(n[a].getPath())&&e.bindingPaths.push(n[a].getPath()),n[a].getContext&&n[a].getContext()&&-1===e.bindingContextPaths.indexOf(n[a].getContext().getPath())&&e.bindingContextPaths.push(n[a].getContext().getPath());return e}function b(e){return Array.isArray(e)&&e.length>0}function v(e,t,n,a){var r=b(e)&&e.some(function(e){var n=e.trim().replace(/^\\//gi,\"\").split(\"/\");if(n.length>1)return-1!==t.indexOf(n.shift())}),i=a.some(function(e){return e=e.match(/^\\/?([A-Za-z0-9_]+)/)[0],n.indexOf(e)>=0});return r||i}function y(e,t){return t.filter(function(t){return-1!==e.indexOf(t.bindingPath)}).pop()}function h(e,t){e.labelFromOData=t.fieldLabel,e.fieldLabel!==e.labelFromOData&&(e.renamedLabel=!0),t.referencedComplexPropertyName&&(e.referencedComplexPropertyName=t.referencedComplexPropertyName)}function P(e,t,n,a){var r,i=e.bindingPaths,o=e.bindingContextPaths;return!b(i)||v(i,n,a,o)||(r=y(i,t))&&(h(e,r)||!0)}return{enhanceInvisibleElements:function(e,t){var n=e.getModel(),i=t.reveal,o=t.addODataProperty;return Promise.resolve().then(function(){return p(e)}).then(function(t){var l=t.property,u=t.navigationProperty.map(function(e){return e.name}),p=t.navigationEntityNames;l=c(l);var m=[];return(i.elements||[]).forEach(function(t){var d=t.getMetadata().getName(),g=i.types[d].action,c=!0;e.getBindingContext()===t.getBindingContext()?(t=s(t,n),t.fieldLabel=a.getLabelForElement(t,g.getLabel),t.duplicateComplexName=f(t,l),o&&l.length>0&&(c=P(t,l,u,p))):t.getParent()&&t.getBindingContext()===t.getParent().getBindingContext()&&r.getBindings(t,n).length>0&&(c=!1),c&&m.push({element:t,action:g})}),m}).then(function(e){return e.map(d)})},getUnboundODataProperties:function(e,t){var n=e.getModel();return Promise.resolve().then(function(){return p(e)}).then(function(a){var i=a.property,o=g(e,t.relevantContainer),l=[];o.forEach(function(e){l=l.concat(r.getBindings(e,n))});var u=t.action.filter?t.action.filter:function(){return!0};return i=i.filter(function(e){var n=!1;return l&&(n=l.some(function(t){return!!t.getPath&&t.getPath()===e.bindingPath})),!n&&u(t.relevantContainer,e)}),i=c(i)}).then(function(e){return e.map(m)})}}});",
		"sap/ui/rta/plugin/additionalElements/AdditionalElementsPlugin.js": "/*!\n * UI development toolkit for HTML5 (OpenUI5)\n * (c) Copyright 2009-2017 SAP SE or an SAP affiliate company.\n * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.\n */\nsap.ui.define([\"jquery.sap.global\",\"sap/ui/rta/plugin/Plugin\",\"sap/ui/dt/ElementUtil\",\"sap/ui/dt/OverlayRegistry\",\"sap/ui/rta/Utils\",\"sap/ui/fl/Utils\",\"sap/ui/core/StashedControlSupport\",\"sap/ui/dt/ElementDesignTimeMetadata\"],function(e,t,a,n,r,i,o,g){\"use strict\";function s(e,t){var a,r=t.getRelevantContainer(!e),i=n.getOverlay(r);return a=e?t.getParentElementOverlay():t,{relevantContainerOverlay:i,parentOverlay:a,relevantContainer:r,parent:a.getElementInstance()}}function l(e,t){return t.sParentAggregationName}function d(e,t){var r=a.getAggregation(e,t).filter(function(t){var a=n.getOverlay(t);return e.getVisible&&!e.getVisible()?t.getVisible&&sap.ui.rta.plugin.Plugin.prototype.hasStableId(a):t.getVisible&&!t.getVisible()&&sap.ui.rta.plugin.Plugin.prototype.hasStableId(a)}),i=o.getStashedControls(e.getId());return r.concat(i)}function u(e,t,a,n,r){var i,o,g=[];if(t.addODataProperty){var s=t.aggregation,l=t.addODataProperty.designTimeMetadata;i=l.getAggregationDescription(s,a),i&&(o=n?i.singular:i.plural,g.push(o))}t.reveal&&Object.keys(t.reveal.types).forEach(function(e){var r=t.reveal.types[e];(i=r.designTimeMetadata.getName(a))&&(o=n?i.singular:i.plural,g.push(o))});var d=g.reduce(function(e,t){return-1===e.indexOf(t)&&e.push(t),e},[]),u=sap.ui.getCore().getLibraryResourceBundle(\"sap.ui.rta\");return o=1===d.length?d[0]:r||u.getText(\"MULTIPLE_CONTROL_NAME\"),u.getText(e,o)}function c(){return{designTimeMetadata:new g({data:{name:{singular:function(){return sap.uxap.i18nModel.getResourceBundle().getText(\"SECTION_CONTROL_NAME\")},plural:function(){return sap.uxap.i18nModel.getResourceBundle().getText(\"SECTION_CONTROL_NAME_PLURAL\")}},actions:{reveal:{changeType:\"unstashControl\",getAggregationName:l}}}}),action:{changeType:\"unstashControl\",getAggregationName:l}}}function p(e,t){var a=!1;if(!r.getRelevantContainerDesigntimeMetadata(e))return!1;var n=this._getActions(t,e),i=s(t,e);if(n.addODataProperty){var o=n.addODataProperty.action;a=o&&o.aggregation===e.getParentAggregationOverlay().getAggregationName()}return!a&&n.reveal&&(a=!0),a||t||(a=this._hasRevealActionsOnChildren(e)||this.checkAggregationsOnSelf(i.parentOverlay,\"addODataProperty\")),!!a&&this.hasStableId(e)}function v(e){return Promise.all(e).then(function(e){var t=e[0]||[];return t&&e[1]&&(t=t.concat(e[1])),t})}function m(e,t,a){var n;return a&&(n=a.getParentElementOverlay().getElementInstance()),!n&&e.sParentId?n=sap.ui.getCore().byId(e.sParentId):n||(n=t.parent),n}function h(e,t,a,n){return e===t&&a<n&&a>-1?n-1:n}return t.extend(\"sap.ui.rta.plugin.additionalElements.AdditionalElementsPlugin\",{metadata:{library:\"sap.ui.rta\",properties:{analyzer:\"object\",dialog:\"object\",commandFactory:\"object\"},associations:{},events:{}},getContextMenuTitle:function(e,t){var a=s(e,t);return u(\"CTX_ADD_ELEMENTS\",this._getActions(e,t),a.parent,!0)},isAvailable:function(e,t){return this._isEditable(t,e)},isEnabled:function(e,t){var a;if(e)return!(!(a=t.getParentElementOverlay())||!this.hasStableId(a));var n=this._getActions(e,t);return!(n.reveal&&0===n.reveal.elements.length&&!n.addODataProperty)},_getRevealActions:function(e,t){var a=s(e,t),n=this._getTypes(n,a,e,t);return n},_getTypes:function(e,t,r,i){var o=[t.parentOverlay],g=i.getRelevantContainer(!r);g!==t.parent&&(o=a.findAllSiblingsInContainer(t.parent,g).map(function(e){return n.getOverlay(e)}));var s;return s=r?[i.getParentAggregationOverlay().getAggregationName()]:t.parentOverlay.getAggregationOverlays().filter(function(e){return!e.getDesignTimeMetadata().isIgnored(t.parent)}).map(function(e){return e.getAggregationName()}),s.reduce(this._getRevealActionFromAggregations.bind(this,o),{})},_getRevealActionFromAggregations:function(e,t,a){var r=e.reduce(function(e,t){return t?e.concat(d(t.getElementInstance(),a)):e},[]),i=function(e,t){var a=t.getMetadata().getName();if(!e[a])if(\"sap.ui.core._StashedControl\"===a)e[a]=c();else{var r=n.getOverlay(t);if(r){var i=r.getDesignTimeMetadata(),o=i&&i.getAction(\"reveal\",t);o&&o.changeType&&(o.changeOnRelevantContainer&&(t=r.getRelevantContainer()),this.hasChangeHandler(o.changeType,t)&&(o.getAggregationName||(o.getAggregationName=l),e[a]={designTimeMetadata:i,action:o}))}}return e},o=r.reduce(i.bind(this),{});return r=r.filter(function(e){return!!o[e.getMetadata().getName()]}),r.length>0&&Object.keys(o).length>0&&(t[a]={reveal:{elements:r,types:o}}),t},_getAddODataPropertyActions:function(e,t){var a=s(e,t),n=a.parentOverlay.getDesignTimeMetadata(),r=n.getAggregationAction(\"addODataProperty\",a.parent),i=a.parent,o=function(e,t){if(t)return t.changeOnRelevantContainer&&(i=a.relevantContainer),t.changeType&&this.hasChangeHandler(t.changeType,i)&&(e[t.aggregation]={addODataProperty:{designTimeMetadata:n,action:t}}),e};if(r&&r.length>0)return r.reduce(o.bind(this),{})},_getActions:function(t,a){var n=this._getRevealActions(t,a),r=this._getAddODataPropertyActions(t,a),i=e.extend(!0,n,r),o=Object.keys(i);if(0===o.length)return{};o.length>1&&e.sap.log.error(\"reveal or addODataProperty action defined for more than 1 aggregation, that is not yet possible\");var g=o[0];return i[g].aggregation=g,i[g]},_hasRevealActionsOnChildren:function(e){var t=this._getRevealActions(!1,e);return!!t&&Object.keys(t).length>0},showAvailableElements:function(t,a,n,i){var o=a[0],g=s(t,o),l=t&&o.getElementInstance(),d=[],u=this._getActions(t,o);return u.reveal&&d.push(this.getAnalyzer().enhanceInvisibleElements(g.parent,u)),u.addODataProperty&&(u.addODataProperty.relevantContainer=o.getRelevantContainer(!t),d.push(this.getAnalyzer().getUnboundODataProperties(g.parent,u.addODataProperty))),(u.aggregation||i)&&this._setDialogTitle(u,g.parent,i),Promise.resolve().then(function(){if(u.addODataProperty)return r.isServiceUpToDate(g.parent)}).then(function(){if(u.addODataProperty)return this.getDialog()._oCustomFieldButton.setVisible(!0),r.isCustomFieldAvailable(g.parent);this.getDialog()._oCustomFieldButton.setVisible(!1)}.bind(this)).then(function(e){e&&(this._oCurrentFieldExtInfo=e,this.getDialog().setCustomFieldEnabled(!0),this.getDialog().detachEvent(\"openCustomField\",this._onOpenCustomField,this),this.getDialog().attachEvent(\"openCustomField\",null,this._onOpenCustomField,this))}.bind(this)).then(v.bind(null,d)).then(function(e){return this.getDialog().setElements(e),this.getDialog().open().then(function(){this._createCommands(t,o,g,l,u.designTimeMetadata,u,n)}.bind(this)).catch(function(e){if(e instanceof Error)throw e})}.bind(this)).catch(function(t){if(t instanceof Error)throw t;e.sap.log.info(\"Service not up to date, skipping add dialog\",\"sap.ui.rta\")})},_setDialogTitle:function(e,t,a){var n=u(\"HEADER_ADDITIONAL_ELEMENTS\",e,t,!1,a);this.getDialog().setTitle(n),a&&this.getDialog()._oList.setNoDataText(this.getDialog()._oTextResources.getText(\"MSG_NO_FIELDS\",a.toLowerCase()))},_onOpenCustomField:function(e){var t=sap.ushell&&sap.ushell.Container&&sap.ushell.Container.getService(\"CrossApplicationNavigation\"),a=t&&t.hrefForExternal({target:{semanticObject:\"CustomField\",action:\"develop\"},params:{businessContexts:this._oCurrentFieldExtInfo.BusinessContexts,serviceName:this._oCurrentFieldExtInfo.ServiceName,serviceVersion:this._oCurrentFieldExtInfo.ServiceVersion,entityType:this._oCurrentFieldExtInfo.EntityType}});r.openNewWindow(a)},_createCommands:function(t,a,n,r,i,o,g){var s=this.getDialog().getSelectedElements();if(s.length>0){var l=this.getCommandFactory().getCommandFor(n.parent,\"composite\");s.forEach(function(t){var a;switch(t.type){case\"invisible\":a=this._createRevealCommandForInvisible(t,o,n,r),l.addCommand(a),a=this._createMoveCommandForInvisible(t,o,n,r,g),a?l.addCommand(a):e.sap.log.warning(\"No move action configured for \"+n.parent.getMetadata().getName()+\", aggregation: \"+o.aggregation,\"sap.ui.rta\");break;case\"odata\":var i,s=n.parentOverlay.getAggregationOverlay(o.aggregation),d=s.getDesignTimeMetadata(),u=d.getAction(\"addODataProperty\",n.parent),c=u.changeHandlerSettings;if(c&&c.content&&(i=c.content.requiredLibraries),i){var p=this._createCommandForAddLibrary(n,o,i,d);l.addCommand(p)}a=this._createCommandsForOData(t,o,n,r,g),l.addCommand(a);break;default:e.sap.log.error(\"Can't create command for untreated element.type \"+t.type)}},this),this.fireElementModified({command:l})}},_createCommandsForOData:function(e,t,a,n,i){var o,g=a.parentOverlay.getAggregationOverlay(t.aggregation),s=g.getDesignTimeMetadata(),l=s.getAction(\"addODataProperty\",a.parent),d=l.changeHandlerSettings;d&&d.key&&(o=d.key.oDataServiceVersion);var u=a.parent;l.changeOnRelevantContainer&&(u=a.relevantContainer);var c=r.getIndex(a.parent,n,t.aggregation,s.getData().getIndex);return this.getCommandFactory().getCommandFor(a.parent,\"addODataProperty\",{newControlId:r.createFieldLabelId(u,e.entityType,e.bindingPath),index:void 0!==i?i:c,bindingString:e.bindingPath,parentId:a.parent.getId(),oDataServiceVersion:o},s)},_createCommandForAddLibrary:function(e,t,a,n){var r=i.getAppComponentForControl(e.relevantContainer),o=r.getManifest(),g=o[\"sap.app\"].id;return this.getCommandFactory().getCommandFor(e.publicParent,\"addLibrary\",{reference:g,requiredLibraries:a,appComponent:r},n)},_createRevealCommandForInvisible:function(e,t,a,n){var r=e.element,i=r.getMetadata().getName(),o=t.reveal.types[i],g=o.designTimeMetadata;return g.getAction(\"reveal\").changeOnRelevantContainer?this.getCommandFactory().getCommandFor(r,\"reveal\",{revealedElementId:r.getId(),directParent:a.parent},g):this.getCommandFactory().getCommandFor(r,\"reveal\",{},g)},_createMoveCommandForInvisible:function(e,t,a,i,o){var g,s=e.element,l=n.getOverlay(s),d=s.getMetadata().getName();if(l)g=l.getParentAggregationOverlay().getAggregationName();else{g=t.reveal.types[d].action.getAggregationName(a.parent,s)}var u=m(s,a,l),c=a.parent,p=r.getIndex(a.parent,i,g),v=r.getIndex(u,s,g)-1;p=void 0!==o?o:h(u,c,v,p);var f;if(p!==v||a.parent!==s.getParent()){var y=n.getOverlay(s)?n.getOverlay(s).getParentAggregationOverlay():a.relevantContainerOverlay,C=y.getDesignTimeMetadata();f=this.getCommandFactory().getCommandFor(a.relevantContainer,\"move\",{movedElements:[{element:s,sourceIndex:v,targetIndex:p}],source:{publicParent:a.relevantContainer,parent:u,aggregation:g},target:{publicParent:a.relevantContainer,parent:c,aggregation:g}},C)}return f},_isEditable:function(e,t){return void 0===t||null===t?p.call(this,e,!0)||p.call(this,e,!1):p.call(this,e,t)}})});",
		"sap/ui/rta/plugin/Combine.js": "/*!\n * UI development toolkit for HTML5 (OpenUI5)\n * (c) Copyright 2009-2017 SAP SE or an SAP affiliate company.\n * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.\n */\nsap.ui.define([\"sap/ui/rta/plugin/Plugin\",\"sap/ui/dt/Selection\",\"sap/ui/dt/OverlayRegistry\",\"sap/ui/rta/Utils\"],function(e,t,n,i){\"use strict\";var a=e.extend(\"sap.ui.rta.plugin.Combine\",{metadata:{library:\"sap.ui.rta\",properties:{},associations:{},events:{}}});return a.prototype._isEditable=function(e){if(!i.getRelevantContainerDesigntimeMetadata(e))return!1;var t=this._getCombineAction(e);return!!(t&&t.changeType&&t.changeOnRelevantContainer)&&(this.hasChangeHandler(t.changeType,e.getRelevantContainer())&&this.hasStableId(e))},a.prototype._getCombineAction=function(e){return e.getDesignTimeMetadata()?e.getDesignTimeMetadata().getAction(\"combine\",e.getElementInstance()):null},a.prototype._checkForSameRelevantContainer=function(e){for(var t=[],n=[],i=0,a=e.length;i<a;i++)if(t[i]=e[i].getElementInstance(),n[i]=e[i].getRelevantContainer(),i>0&&(n[0]!==n[i]||t[0].getMetadata().getName()!==t[i].getMetadata().getName()))return!1;return!0},a.prototype.isCombineAvailable=function(e){var t=this.getDesignTime().getSelection();return!(t.length<=1)&&(this._isEditableByPlugin(e)&&this._checkForSameRelevantContainer(t))},a.prototype.isCombineEnabled=function(e){var t=this.getDesignTime().getSelection();if(!this.isCombineAvailable(e)||t.length<=1)return!1;var n=t.map(function(e){return e.getElementInstance()});return t.every(function(e){var t=this._getCombineAction(e);return!!t&&(void 0===t.isEnabled||(\"function\"==typeof t.isEnabled?t.isEnabled(n):t.isEnabled))},this)},a.prototype.handleCombine=function(e){for(var t=n.getOverlay(e),i=t.getDesignTimeMetadata(),a=[],r=this.getDesignTime().getSelection(),o=0;o<r.length;o++){var s=r[o].getElementInstance();a.push(s)}var g=this.getCommandFactory().getCommandFor(e,\"combine\",{source:e,combineFields:a},i);this.fireElementModified({command:g})},a},!0);",
		"sap/ui/rta/plugin/ControlVariant.js": "/*!\n * UI development toolkit for HTML5 (OpenUI5)\n * (c) Copyright 2009-2017 SAP SE or an SAP affiliate company.\n * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.\n */\nsap.ui.define([\"sap/ui/rta/plugin/Plugin\",\"sap/ui/rta/Utils\",\"sap/ui/dt/ElementOverlay\",\"sap/ui/dt/OverlayRegistry\",\"sap/ui/dt/OverlayUtil\",\"sap/ui/fl/changeHandler/BaseTreeModifier\",\"sap/ui/fl/Utils\",\"sap/ui/base/ManagedObject\"],function(t,a,e,n,i,r,o,s){\"use strict\";e.prototype._variantManagement=void 0,e.prototype.getVariantManagement=function(){return this._variantManagement},e.prototype.setVariantManagement=function(t){this._variantManagement=t},e.prototype.hasVariantManagement=function(){this._variantManagement};var p=t.extend(\"sap.ui.rta.plugin.ControlVariant\",{metadata:{library:\"sap.ui.rta\",properties:{},associations:{},events:{}}});return p.prototype.registerElementOverlay=function(t){if(\"sap.ui.fl.variants.VariantManagement\"===t.getElementInstance().getMetadata().getName()){var a=t.getElementInstance(),e=a.getAssociation(\"for\");(jQuery.isArray(e)?e:[e]).forEach(function(t){var e=t instanceof s?t:sap.ui.getCore().byId(t),i=n.getOverlay(e),p=r.getSelector(a,o.getComponentForControl(a)).id;this._propagateVariantManagement(i,p)}.bind(this))}},p.prototype._propagateVariantManagement=function(t,a){var e=[];return t.setVariantManagement(a),e=i.getAllChildOverlays(t),e.forEach(function(t){e=e.concat(this._propagateVariantManagement(t,a))}.bind(this)),e},p.prototype.deregisterElementOverlay=function(t){},p},!0);",
		"sap/ui/rta/plugin/CreateContainer.js": "/*!\n * UI development toolkit for HTML5 (OpenUI5)\n * (c) Copyright 2009-2017 SAP SE or an SAP affiliate company.\n * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.\n */\nsap.ui.define([\"sap/ui/rta/plugin/Plugin\",\"sap/ui/fl/Utils\",\"sap/ui/rta/Utils\",\"sap/ui/dt/OverlayRegistry\"],function(e,t,n,r){\"use strict\";var a=e.extend(\"sap.ui.rta.plugin.CreateContainer\",{metadata:{library:\"sap.ui.rta\",properties:{},associations:{},events:{}}});return a.prototype._isEditable=function(e,t){return void 0===t||null===t?this._isEditableCheck(e,!1)||this._isEditableCheck(e,!0):this._isEditableCheck(e,t)},a.prototype._isEditableCheck=function(e,n){var r=this._getParentOverlay(n,e);if(!r||!r.getParentElementOverlay())return!1;if(this.checkAggregationsOnSelf(r,\"createContainer\")){var a=t.getViewForControl(r.getElementInstance());return this.hasStableId(e)&&t.checkControlId(a)}return!1},a.prototype._getParentOverlay=function(e,t){return e?t.getParentElementOverlay():t},a.prototype.getCreateAction=function(e,t){return this._getParentOverlay(e,t).getDesignTimeMetadata().getAggregationAction(\"createContainer\",t.getElementInstance())[0]},a.prototype.isCreateAvailable=function(e,t){return this._isEditable(t,e)},a.prototype.isCreateEnabled=function(e,t){var n=this.getCreateAction(e,t);if(!n)return!1;if(n.isEnabled&&\"function\"==typeof n.isEnabled){var r=n.isEnabled,a=this._getParentOverlay(e,t);return r.call(null,a.getElementInstance())}return!0},a.prototype.getCreatedContainerOverlay=function(e,t){var n=t;if(e.getCreatedContainerId&&\"function\"==typeof e.getCreatedContainerId){n=e.getCreatedContainerId.call(null,t)}return r.getOverlay(n)},a.prototype._determineIndex=function(e,t,r,a){return n.getIndex(e,t,r,a)},a.prototype._getText=function(e,t,n,r){if(!e)return r;var a=n.getAggregationDescription(e.aggregation,t).singular;return sap.ui.getCore().getLibraryResourceBundle(\"sap.ui.rta\").getText(r,a)},a.prototype.getCreateContainerText=function(e,t){var n=this.getCreateAction(e,t),r=this._getParentOverlay(e,t),a=r.getDesignTimeMetadata(),i=r.getElementInstance();return this._getText(n,i,a,\"CTX_CREATE_CONTAINER\")},a.prototype._getContainerTitle=function(e,t,n){return this._getText(e,t,n,\"TITLE_CREATE_CONTAINER\")},a.prototype.handleCreate=function(e,n){var r,a=this.getCreateAction(e,n),i=this._getParentOverlay(e,n),o=i.getDesignTimeMetadata(),g=i.getElementInstance(),s=t.getViewForControl(g);e&&(r=n.getElementInstance());var l=s.createId(jQuery.sap.uid()),u=o.getAggregation(a.aggregation).getIndex,c=this._determineIndex(g,r,a.aggregation,u),d=this.getCommandFactory().getCommandFor(g,\"createContainer\",{newControlId:l,label:this._getContainerTitle(a,g,o),index:c},o);this.fireElementModified({command:d,action:a,newControlId:l})},a},!0);",
		"sap/ui/rta/plugin/CutPaste.js": "/*!\n * UI development toolkit for HTML5 (OpenUI5)\n * (c) Copyright 2009-2017 SAP SE or an SAP affiliate company.\n * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.\n */\nsap.ui.define([\"jquery.sap.global\",\"sap/ui/dt/plugin/CutPaste\",\"sap/ui/dt/OverlayUtil\",\"sap/ui/rta/plugin/Plugin\",\"sap/ui/rta/plugin/RTAElementMover\"],function(t,e,i,a,o){\"use strict\";var p=e.extend(\"sap.ui.rta.plugin.CutPaste\",{metadata:{library:\"sap.ui.rta\",properties:{commandFactory:{type:\"object\",multiple:!1}},events:{dragStarted:{},elementModified:{command:{type:\"sap.ui.rta.command.BaseCommand\"}}}}});return p.prototype.init=function(){e.prototype.init.apply(this,arguments),this.setElementMover(new o({commandFactory:this.getCommandFactory()}))},p.prototype.registerElementOverlay=function(t){e.prototype.registerElementOverlay.apply(this,arguments),t.isMovable()&&a.prototype.addToPluginsList.apply(this,arguments)},p.prototype.deregisterElementOverlay=function(t){e.prototype.deregisterElementOverlay.apply(this,arguments),a.prototype.removeFromPluginsList.apply(this,arguments)},p.prototype.paste=function(t){this._executePaste(t),this.fireElementModified({command:this.getElementMover().buildMoveCommand()}),this.stopCutAndPaste()},p},!0);",
		"sap/ui/rta/plugin/DragDrop.js": "/*!\n * UI development toolkit for HTML5 (OpenUI5)\n * (c) Copyright 2009-2017 SAP SE or an SAP affiliate company.\n * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.\n */\nsap.ui.define([\"jquery.sap.global\",\"sap/ui/dt/plugin/ControlDragDrop\",\"sap/ui/rta/plugin/RTAElementMover\",\"sap/ui/rta/plugin/Plugin\"],function(e,t,o,r){\"use strict\";var a=t.extend(\"sap.ui.rta.plugin.DragDrop\",{metadata:{library:\"sap.ui.rta\",properties:{commandFactory:{type:\"object\",multiple:!1}},events:{dragStarted:{},elementModified:{command:{type:\"sap.ui.rta.command.BaseCommand\"}}}}});return a.prototype.init=function(){t.prototype.init.apply(this,arguments),this.setElementMover(new o({commandFactory:this.getCommandFactory()}))},a.prototype.setCommandFactory=function(e){this.setProperty(\"commandFactory\",e),this.getElementMover().setCommandFactory(e)},a.prototype.registerElementOverlay=function(e){t.prototype.registerElementOverlay.apply(this,arguments),e.isMovable()&&(this._attachMovableBrowserEvents(e),r.prototype.addToPluginsList.apply(this,arguments))},a.prototype.deregisterElementOverlay=function(e){t.prototype.deregisterElementOverlay.apply(this,arguments),r.prototype.removeFromPluginsList.apply(this,arguments),this._detachMovableBrowserEvents(e)},a.prototype._attachMovableBrowserEvents=function(e){e.attachBrowserEvent(\"mouseover\",this._onMouseOver,this),e.attachBrowserEvent(\"mouseleave\",this._onMouseLeave,this)},a.prototype._detachMovableBrowserEvents=function(e){e.detachBrowserEvent(\"mouseover\",this._onMouseOver,this),e.detachBrowserEvent(\"mouseleave\",this._onMouseLeave,this)},a.prototype.onDragStart=function(e){this.fireDragStarted(),t.prototype.onDragStart.apply(this,arguments),this.getDesignTime().getSelection().forEach(function(e){e.setSelected(!1)}),e.$().addClass(\"sapUiRtaOverlayPlaceholder\")},a.prototype.onDragEnd=function(e){this.fireElementModified({command:this.getElementMover().buildMoveCommand()}),e.$().removeClass(\"sapUiRtaOverlayPlaceholder\"),e.setSelected(!0),e.focus(),t.prototype.onDragEnd.apply(this,arguments)},a.prototype.onMovableChange=function(e){t.prototype.onMovableChange.apply(this,arguments),e.isMovable()?this._attachMovableBrowserEvents(e):this._detachMovableBrowserEvents(e)},a.prototype._onMouseOver=function(e){var t=sap.ui.getCore().byId(e.currentTarget.id);t!==this._oPreviousHoverTarget&&(this._oPreviousHoverTarget&&this._oPreviousHoverTarget.$().removeClass(\"sapUiRtaOverlayHover\"),this._oPreviousHoverTarget=t,t.$().addClass(\"sapUiRtaOverlayHover\")),e.preventDefault(),e.stopPropagation()},a.prototype._onMouseLeave=function(e){this._oPreviousHoverTarget&&this._oPreviousHoverTarget.$().removeClass(\"sapUiRtaOverlayHover\"),delete this._oPreviousHoverTarget,e.preventDefault(),e.stopPropagation()},a},!0);",
		"sap/ui/rta/plugin/EasyAdd.js": "/*!\n * UI development toolkit for HTML5 (OpenUI5)\n * (c) Copyright 2009-2017 SAP SE or an SAP affiliate company.\n * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.\n */\nsap.ui.define([\"sap/ui/rta/plugin/additionalElements/AdditionalElementsPlugin\",\"sap/ui/dt/OverlayRegistry\"],function(e,t){\"use strict\";var a=e.extend(\"sap.ui.rta.plugin.EasyAdd\",{metadata:{library:\"sap.ui.rta\",properties:{},associations:{},events:{}}});return a.prototype.registerElementOverlay=function(a){this._oDelegate={onAfterRendering:function(){var e=function(e,t,a){var s;s=e?t.getDesignTimeMetadata().getName().plural:t.getDesignTimeMetadata().getAggregation(\"sections\").childNames.plural(),this.showAvailableElements(e,[t],a,s)}.bind(this),s=function(t,a,s,n,i){var r=function(t){var a=sap.ui.getCore().byId(t.getSource().getId().replace(\"-AddButton\",\"\"));e(s,a,i),t.cancelBubble()},d=\"function\"==typeof n?n():n;this._addButton(t,r,a,d)}.bind(this);if(a.$().hasClass(\"sapUiRtaPersAdd\")){var n=a.$().hasClass(\"sapUiRtaPersAdd\")&&a.$().children(\".sapUiRtaPersAddIconOuter\").length<=0,i=a.getElementInstance().getParent(),r=t.getOverlay(i);\"sap.uxap.ObjectPageLayout\"===i.getMetadata().getName()&&r.$().hasClass(\"sapUiRtaPersAddTop\")&&r.getAggregationOverlay(\"sections\").$().children(\".sapUiRtaPersAddIconOuter\").length>-1&&i.$(\"sectionsContainer\").addClass(\"sapUiRtaPaddingTop\"),n&&s(a,a.$(),!0,a.getDesignTimeMetadata().getName().singular)}else if(a.$().hasClass(\"sapUiRtaPersAddTop\")&&a.getAggregationOverlay(\"sections\").$().children(\".sapUiRtaPersAddIconOuter\").length<=0){var d=a.getAggregationOverlay(\"sections\").$();s(a,d,!1,a.getDesignTimeMetadata().getAggregation(\"sections\").childNames.singular,0)}a.removeEventDelegate(this._oDelegate,this)}};var s=a.getElementInstance();\"sap.uxap.ObjectPageSection\"===s.getMetadata().getName()&&this.hasStableId(a)?(a.addStyleClass(\"sapUiRtaPersAdd\"),s.addStyleClass(\"sapUiRtaMarginBottom\")):\"sap.uxap.ObjectPageLayout\"===s.getMetadata().getName()&&this.hasStableId(a)&&(a.addStyleClass(\"sapUiRtaPersAddTop\"),s.$(\"sectionsContainer\").addClass(\"sapUiRtaPaddingTop\")),a.addEventDelegate(this._oDelegate,this),e.prototype.registerElementOverlay.apply(this,arguments)},a.prototype.deregisterElementOverlay=function(e){var t=e.getElementInstance();e._oAddButton&&e._oAddButton.destroy(),\"sap.uxap.ObjectPageSection\"===t.getMetadata().getName()?(e.removeStyleClass(\"sapUiRtaPersAdd\"),t.removeStyleClass(\"sapUiRtaMarginBottom\"),e.removeEventDelegate(this._oDelegate,this)):\"sap.uxap.ObjectPageLayout\"===t.getMetadata().getName()&&(e.removeStyleClass(\"sapUiRtaPersAddTop\"),t.$(\"sectionsContainer\").removeClass(\"sapUiRtaPaddingTop\"))},a.prototype._addButton=function(e,t,a,s){var n=e.getId()+\"-AddButton\",i=jQuery(\"<div class='sapUiRtaPersAddIconOuter' draggable='true'> </div>\");e._oAddButton=new sap.m.Button(n,{text:\"Add \"+s,icon:\"sap-icon://add\",press:t}).placeAt(i.get(0)),a.append(i),i[0].addEventListener(\"mouseover\",function(e){e.stopPropagation();var t=e.fromElement?sap.ui.getCore().byId(e.fromElement.id):null;if(t&&\"sap.ui.dt.ElementOverlay\"===t.getMetadata().getName()){t.getParentElementOverlay().$().removeClass(\"sapUiRtaOverlayHover\")}}),i[0].addEventListener(\"mouseleave\",function(e){e.stopPropagation();var t=e.toElement?sap.ui.getCore().byId(e.toElement.id):null;if(t&&\"sap.ui.dt.ElementOverlay\"===t.getMetadata().getName()){var a=t.getParentElementOverlay();a.getMovable()&&a.$().addClass(\"sapUiRtaOverlayHover\")}}),i[0].addEventListener(\"dragstart\",function(e){e.stopPropagation(),e.preventDefault()})},a},!0);",
		"sap/ui/rta/plugin/EasyRemove.js": "/*!\n * UI development toolkit for HTML5 (OpenUI5)\n * (c) Copyright 2009-2017 SAP SE or an SAP affiliate company.\n * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.\n */\nsap.ui.define([\"sap/ui/rta/plugin/Remove\"],function(e){\"use strict\";var t=e.extend(\"sap.ui.rta.plugin.EasyRemove\",{metadata:{library:\"sap.ui.rta\",properties:{},associations:{},events:{}}});return t.prototype.registerElementOverlay=function(t){this._oDelegate={onAfterRendering:function(){var e=function(e){this._handleRemove([e])}.bind(this);if(t.$().hasClass(\"sapUiRtaPersDelete\")&&t.$().children(\".sapUiRtaPersDeleteClick\").length<=0){var a=t.getId()+\"-DeleteIcon\",n=jQuery(\"<div class='sapUiRtaPersDeleteClick' draggable='true'> </div>\"),s=jQuery(\"<div class='sapUiRtaPersDeleteIconOuter'> </div>\");t._oDeleteIcon=new sap.ui.core.Icon(a,{src:\"sap-icon://decline\",tooltip:sap.ui.getCore().getLibraryResourceBundle(\"sap.ui.rta\").getText(\"CTX_REMOVE\"),press:function(t){var a=sap.ui.getCore().byId(t.getSource().getId().replace(\"-DeleteIcon\",\"\"));e(a),t.cancelBubble()},noTabStop:!0}).placeAt(s.get(0)),n.append(s),t.$().append(n),t._oDeleteIcon.attachBrowserEvent(\"contextmenu\",function(e){e.stopPropagation(),e.preventDefault()}),n[0].addEventListener(\"dragstart\",function(e){e.stopPropagation(),e.preventDefault()})}t.removeEventDelegate(this._oDelegate,this)}},\"sap.uxap.ObjectPageSection\"===t.getElementInstance().getMetadata().getName()&&this.hasStableId(t)&&t.addStyleClass(\"sapUiRtaPersDelete\"),t.addEventDelegate(this._oDelegate,this),e.prototype.registerElementOverlay.apply(this,arguments)},t.prototype.deregisterElementOverlay=function(e){\"sap.uxap.ObjectPageSection\"===e.getElementInstance().getMetadata().getName()&&(e.removeStyleClass(\"sapUiRtaPersDelete\"),e.removeEventDelegate(this._oDelegate,this),e._oDeleteIcon&&e._oDeleteIcon.destroy())},t},!0);",
		"sap/ui/rta/plugin/Plugin.js": "/*!\n * UI development toolkit for HTML5 (OpenUI5)\n * (c) Copyright 2009-2017 SAP SE or an SAP affiliate company.\n * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.\n */\nsap.ui.define([\"sap/ui/dt/Plugin\",\"sap/ui/fl/Utils\",\"sap/ui/fl/registry/ChangeRegistry\"],function(e,t,a){\"use strict\";var n=e.extend(\"sap.ui.rta.plugin.Plugin\",{metadata:{abstract:!0,library:\"sap.ui.rta\",properties:{commandFactory:{type:\"object\",multiple:!1}},events:{elementModified:{command:{type:\"sap.ui.rta.command.BaseCommand\"}}}}});return n.prototype._isEditable=function(){},n.prototype._isEditableByPlugin=function(e){var t=this.getMetadata().getName();return e.getEditableByPlugins().indexOf(t)>-1},n.prototype.registerElementOverlay=function(e){this._isEditable(e)&&this.addToPluginsList(e)},n.prototype.deregisterElementOverlay=function(e){this.removeFromPluginsList(e)},n.prototype.hasStableId=function(e){if(!e)return!1;if(!e.getDesignTimeMetadata())return t.checkControlId(e.getElementInstance());var a=!1,n=e.getDesignTimeMetadata(),i=e.getElementInstance(),r=n.getData().getStableElements;if(r){var g=r(i);a=!(!g||g.some(function(e){var a=e.id||e;if(!t.checkControlId(a,e.appComponent))return!0}))}else a=t.checkControlId(i);return a},n.prototype.getVariantManagementKey=function(e,t,a){var n;return e.getVariantManagement&&this._hasVariantChangeHandler(a,t)&&(n=e.getVariantManagement()),n},n.prototype._hasVariantChangeHandler=function(e,t){var a=this._getChangeHandler(e,t);return a.revertChange=!0,a&&a.revertChange},n.prototype.checkAggregationsOnSelf=function(e,t){var a=e.getDesignTimeMetadata(),n=e.getElementInstance(),i=!1,r=a.getAggregationAction(t,e.getElementInstance())[0],g=r?r.changeType:null;return r&&r.changeOnRelevantContainer&&(n=e.getRelevantContainer()),g&&this.hasChangeHandler(g,n)&&(i=!0),i},n.prototype.removeFromPluginsList=function(e){e.removeEditableByPlugin(this.getMetadata().getName()),e.getEditableByPlugins().length||e.setEditable(!1)},n.prototype.addToPluginsList=function(e){e.addEditableByPlugin(this.getMetadata().getName()),e.setEditable(!0)},n.prototype.hasChangeHandler=function(e,t){return!!this._getChangeHandler(e,t)},n.prototype._getChangeHandler=function(e,t){var n=t.getMetadata().getName(),i=a.getInstance().getRegistryItems({controlType:n,changeTypeName:e,layer:this.getCommandFactory().getFlexSettings().layer});if(i&&i[n]&&i[n][e]){return i[n][e].getChangeTypeMetadata().getChangeHandler()}},n},!0);",
		"sap/ui/rta/plugin/Remove.js": "/*!\n * UI development toolkit for HTML5 (OpenUI5)\n * (c) Copyright 2009-2017 SAP SE or an SAP affiliate company.\n * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.\n */\nsap.ui.define([\"sap/ui/rta/plugin/Plugin\",\"sap/ui/rta/Utils\",\"sap/ui/rta/command/CompositeCommand\",\"sap/ui/dt/OverlayRegistry\"],function(e,t,n,i){\"use strict\";var o=e.extend(\"sap.ui.rta.plugin.Remove\",{metadata:{library:\"sap.ui.rta\",properties:{},associations:{},events:{}}});return o.prototype.registerElementOverlay=function(t){this.isRemoveEnabled(t)&&t.attachBrowserEvent(\"keydown\",this._onKeyDown,this),e.prototype.registerElementOverlay.apply(this,arguments)},o.prototype._isEditable=function(e){var n=!1,i=e.getElementInstance();if(!t.getRelevantContainerDesigntimeMetadata(e))return!1;var o=this._getRemoveAction(e);return o&&o.changeType&&(o.changeOnRelevantContainer&&(i=e.getRelevantContainer()),n=this.hasChangeHandler(o.changeType,i)),n?this.hasStableId(e):n},o.prototype._getRemoveAction=function(e){return e.getDesignTimeMetadata()?e.getDesignTimeMetadata().getAction(\"remove\",e.getElementInstance()):null},o.prototype.isRemoveAvailable=function(e){return this._isEditableByPlugin(e)},o.prototype.isRemoveEnabled=function(e){var t=this._getRemoveAction(e);return!!t&&(void 0===t.isEnabled||(\"function\"==typeof t.isEnabled?t.isEnabled(e.getElementInstance()):t.isEnabled))},o.prototype._getConfirmationText=function(e){var t=this._getRemoveAction(e);if(t&&t.getConfirmationText)return t.getConfirmationText(e.getElementInstance())},o.prototype.deregisterElementOverlay=function(t){this.isRemoveEnabled(t)&&t.detachBrowserEvent(\"keydown\",this._onKeyDown,this),e.prototype.deregisterElementOverlay.apply(this,arguments)},o.prototype._onKeyDown=function(e){e.keyCode===jQuery.sap.KeyCodes.DELETE&&(e.stopPropagation(),this.removeElement())},o.prototype.removeElement=function(e){var t;if(e)t=e;else{t=this.getDesignTime().getSelection()}t=t.filter(this.isRemoveEnabled,this),t.length>0&&this._handleRemove(t)},o.prototype._getRemoveCommand=function(e,t,n){return this.getCommandFactory().getCommandFor(e,\"Remove\",{removedElement:e},t,n)},o.prototype._fireElementModified=function(e){e.getCommands().length&&this.fireElementModified({command:e})},o.prototype._handleRemove=function(e){var i=[],a=new n,r=function(e){e.setSelected(!0),setTimeout(function(){e.focus()},0)},s=o._getElementToFocus(e);e.forEach(function(e){var n,o,r=e.getElementInstance(),s=e.getDesignTimeMetadata(),m=this._getRemoveAction(e);o=m.changeOnRelevantContainer?e.getRelevantContainer():r;var l=this.getVariantManagementKey(e,o,m.changeType),g=this._getConfirmationText(e);g?i.push(t.openRemoveConfirmationDialog(r,g).then(function(e){e&&(n=this._getRemoveCommand(r,s,l),a.addCommand(n))}.bind(this))):(n=this._getRemoveCommand(r,s,l),a.addCommand(n))},this),i.length?Promise.all(i).then(function(){this._fireElementModified(a),r(s)}.bind(this)):(this._fireElementModified(a),r(s))},o._getElementToFocus=function(e){var t;if(1===e.length){var n=e[0],o=n.getParent().getAggregation(n.sParentAggregationName);if(o.length>1){var a=o.indexOf(n),r=o.slice(a+1);0!==a&&(r=r.concat(o.slice(0,a).reverse())),t=r.filter(function(e){return e.getElementInstance().getVisible()}).shift()}}return t||(t=i.getOverlay(e[0].getRelevantContainer())),t},o},!0);",
		"sap/ui/rta/plugin/Rename.js": "/*!\n * UI development toolkit for HTML5 (OpenUI5)\n * (c) Copyright 2009-2017 SAP SE or an SAP affiliate company.\n * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.\n */\nsap.ui.define([\"jquery.sap.global\",\"sap/ui/rta/plugin/Plugin\",\"sap/ui/dt/Overlay\",\"sap/ui/dt/ElementUtil\",\"sap/ui/dt/OverlayUtil\",\"sap/ui/dt/OverlayRegistry\",\"sap/ui/rta/Utils\",\"sap/ui/dt/DOMUtil\"],function(e,t,i,o,a,n,s,l){\"use strict\";var d=t.extend(\"sap.ui.rta.plugin.Rename\",{metadata:{library:\"sap.ui.rta\",properties:{oldValue:\"string\"},associations:{},events:{editable:{},nonEditable:{}}}});return d.prototype.exit=function(){t.prototype.exit.apply(this,arguments),this._$oEditableControlDomRef&&this._stopEdit(),clearTimeout(this._iStopTimeout)},d.prototype.setDesignTime=function(e){this._aSelection=[];var i=this.getDesignTime();i&&i.detachSelectionChange(this._onDesignTimeSelectionChange,this),t.prototype.setDesignTime.apply(this,arguments),e&&(e.attachSelectionChange(this._onDesignTimeSelectionChange,this),this._aSelection=e.getSelection())},d.prototype._getRenameAction=function(e){var t=e.getDesignTimeMetadata();if(t&&t.getAction)return t.getAction(\"rename\",e.getElementInstance())},d.prototype.isRenameAvailable=function(e){return this._isEditableByPlugin(e)},d.prototype.isRenameEnabled=function(e){var t=!0,i=this._getRenameAction(e);if(i||(t=!1),t&&void 0!==i.isEnabled&&(t=\"function\"==typeof i.isEnabled?i.isEnabled(e.getElementInstance()):i.isEnabled),t){e.getDesignTimeMetadata().getAssociatedDomRef(e.getElementInstance(),i.domRef)||(t=!1)}return t},d.prototype.registerElementOverlay=function(e){e.attachEvent(\"editableChange\",this._manageClickEvent,this),t.prototype.registerElementOverlay.apply(this,arguments)},d.prototype._isEditable=function(e){var t=!1,i=e.getElementInstance();if(!s.getRelevantContainerDesigntimeMetadata(e))return!1;var o=this._getRenameAction(e);return o&&o.changeType&&(o.changeOnRelevantContainer&&(i=e.getRelevantContainer()),t=this.hasChangeHandler(o.changeType,i)),t?this.hasStableId(e):t},d.prototype.deregisterElementOverlay=function(e){e.detachEvent(\"editableChange\",this._manageClickEvent,this),e.detachBrowserEvent(\"click\",this._onClick,this),this.removeFromPluginsList(e)},d.prototype._onClick=function(e){var t=sap.ui.getCore().byId(e.currentTarget.id);!this.isRenameEnabled(t)||e.metaKey||e.ctrlKey||(this.startEdit(t),e.preventDefault())},d.prototype._onDesignTimeSelectionChange=function(e){var t=e.getParameter(\"selection\");this._aSelection.forEach(this._manageClickEvent,this),t.forEach(this._manageClickEvent,this),this._aSelection=t},d.prototype._manageClickEvent=function(e){var t=e.getSource?e.getSource():e;t.isSelected()&&this.isRenameAvailable(t)?t.attachBrowserEvent(\"click\",this._onClick,this):t.detachBrowserEvent(\"click\",this._onClick,this)},d.prototype.startEdit=function(t){this._oEditedOverlay=t;var o=t.getElementInstance(),a=this._oEditedOverlay.getDesignTimeMetadata(),n=a.getAction(\"rename\",o).domRef,d=a.getAssociatedDomRef(o,n);s.isElementInViewport(d)||d.get(0).scrollIntoView(),this._$oEditableControlDomRef=e(d);var r=sap.ui.dt.OverlayRegistry.getOverlay(d.id)||t,h=e(\"<div class='sapUiRtaEditableField'></div>\").appendTo(r.$());this._$editableField=e(\"<div contentEditable='true'></div>\").appendTo(h),\"\"===this._$oEditableControlDomRef.text()?(this._$oEditableControlDomRef.text(\"_?_\"),this._$editableField.text(\"\")):this._$editableField.text(this._$oEditableControlDomRef.text()),l.copyComputedStyle(this._$oEditableControlDomRef,this._$editableField),this._$editableField.children().remove(),this._$editableField.css(\"visibility\",\"hidden\"),this._$editableField.css({\"-moz-user-modify\":\"read-write\",\"-webkit-user-modify\":\"read-write\",\"-ms-user-modify\":\"read-write\",\"user-modify\":\"read-write\",\"text-overflow\":\"clip\"}),i.getMutationObserver().ignoreOnce({target:this._$oEditableControlDomRef.get(0)}),this._$editableField.one(\"focus\",this._onEditableFieldFocus.bind(this)),this._$editableField.on(\"blur\",this._onEditableFieldBlur.bind(this)),this._$editableField.on(\"keydown\",this._onEditableFieldKeydown.bind(this)),this._$editableField.on(\"dragstart\",this._stopPropagation.bind(this)),this._$editableField.on(\"drag\",this._stopPropagation.bind(this)),this._$editableField.on(\"dragend\",this._stopPropagation.bind(this)),this._$editableField.on(\"click\",this._stopPropagation.bind(this)),this._$editableField.on(\"mousedown\",this._stopPropagation.bind(this)),this.setOldValue(this._getCurrentEditableFieldText()),setTimeout(function(){this._$oEditableControlDomRef.css(\"visibility\",\"hidden\"),this._$editableField.offset({left:this._$oEditableControlDomRef.offset().left}),this._$editableField.offset({top:this._$oEditableControlDomRef.offset().top}),this._$editableField.css(\"visibility\",\"\"),this._$editableField.focus(),t.setSelected(!0),sap.ui.getCore().getEventBus().publish(\"sap.ui.rta\",\"plugin.Rename.startEdit\",{overlay:t,editableField:this._$editableField})}.bind(this),0)},d.prototype._stopPropagation=function(e){e.stopPropagation()},d.prototype._onEditableFieldFocus=function(e){this._oEditedOverlay.setSelected(!1);var t=e.target,i=document.createRange();i.selectNodeContents(t);var o=window.getSelection();o.removeAllRanges(),o.addRange(i)},d.prototype._stopEdit=function(e){if(\"_?_\"===this._$oEditableControlDomRef.text()&&this._$oEditableControlDomRef.text(\"\"),this._oEditedOverlay.$().find(\".sapUiRtaEditableField\").remove(),i.getMutationObserver().ignoreOnce({target:this._$oEditableControlDomRef.get(0)}),this._$oEditableControlDomRef.css(\"visibility\",\"visible\"),e){var t=this._oEditedOverlay;this._iStopTimeout=setTimeout(function(){t.setSelected(!0),t.focus(),sap.ui.getCore().getEventBus().publish(\"sap.ui.rta\",\"plugin.Rename.stopEdit\",{overlay:t})},500)}this._oEditedOverlay.setSelected(!1),delete this._$editableField,delete this._$oEditableControlDomRef,delete this._oEditedOverlay},d.prototype._onEditableFieldBlur=function(e){this._emitLabelChangeEvent(),this._stopEdit()},d.prototype._onEditableFieldKeydown=function(t){switch(t.keyCode){case e.sap.KeyCodes.ENTER:this._emitLabelChangeEvent(),this._stopEdit(!0),t.preventDefault();break;case e.sap.KeyCodes.ESCAPE:this._stopEdit(!0),t.preventDefault();break;case e.sap.KeyCodes.DELETE:t.stopPropagation()}},d.prototype._emitLabelChangeEvent=function(){var t=this._getCurrentEditableFieldText();if(this.getOldValue()!==t){this._$oEditableControlDomRef.text(t);try{var i,o=this._oEditedOverlay.getElementInstance(),a=this._oEditedOverlay.getDesignTimeMetadata();i=this.getCommandFactory().getCommandFor(o,\"rename\",{renamedElement:o,newValue:t},a),this.fireElementModified({command:i})}catch(t){e.sap.log.error(\"Error during rename : \",t)}}},d.prototype._getCurrentEditableFieldText=function(){var e=this._$editableField.text();return\"\"===e&&(e=\" \"),e},d},!0);",
		"sap/ui/rta/plugin/RTAElementMover.js": "/*!\n * UI development toolkit for HTML5 (OpenUI5)\n * (c) Copyright 2009-2017 SAP SE or an SAP affiliate company.\n * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.\n */\nsap.ui.define([\"sap/ui/dt/plugin/ElementMover\",\"sap/ui/dt/OverlayUtil\",\"sap/ui/dt/ElementUtil\",\"sap/ui/fl/Utils\",\"sap/ui/rta/Utils\",\"sap/ui/rta/command/CommandFactory\",\"sap/ui/rta/plugin/Plugin\",\"sap/ui/dt/OverlayRegistry\",\"sap/ui/rta/util/BindingsExtractor\"],function(e,t,n,a,i,r,o,g,s){\"use strict\";function l(e){var t,n=!1,a=e.getDesignTimeMetadata(),r=e.getParentElementOverlay();if(!a||!r)return!1;var o=e.getRelevantContainer(),g=sap.ui.dt.OverlayRegistry.getOverlay(o);if(!i.getRelevantContainerDesigntimeMetadata(e))return!1;var s=this._getMoveAction(e);return s&&s.changeType&&(t=e.getRelevantContainer(),n=this.oBasePlugin.hasChangeHandler(s.changeType,t)),n&&(n=this.oBasePlugin.hasStableId(e)&&this.oBasePlugin.hasStableId(r)&&this.oBasePlugin.hasStableId(g)),n}function u(e,t,n){var a=e.getDesignTimeMetadata(),i=a.getAction(\"move\",t);return!!i&&this.oBasePlugin.hasChangeHandler(i.changeType,n)}var d=e.extend(\"sap.ui.rta.plugin.RTAElementMover\",{metadata:{library:\"sap.ui.rta\",properties:{commandFactory:{type:\"any\",defaultValue:r},movableTypes:{type:\"string[]\",defaultValue:[\"sap.ui.core.Element\"]}},associations:{},events:{}}});return d.prototype.init=function(){this.oBasePlugin=new o({commandFactory:this.getCommandFactory()})},d.prototype.exit=function(){this.oBasePlugin.destroy()},d.prototype.setCommandFactory=function(e){this.setProperty(\"commandFactory\",e),this.oBasePlugin.setCommandFactory(e)},e.prototype._getMoveAction=function(e){var t,n=e.getParentAggregationOverlay();return n&&(t=n.getDesignTimeMetadata()),t?t.getAction(\"move\",e.getElementInstance()):void 0},e.prototype.isMovableType=function(e){return!0},d.prototype.checkMovable=function(e){return l.call(this,e)},d.prototype.checkTargetZone=function(t){if(!e.prototype.checkTargetZone.call(this,t))return!1;var n=this.getMovedOverlay(),a=n.getElementInstance(),r=t.getParent(),g=n.getRelevantContainer(),l=r.getElementInstance(),d=t.getDesignTimeMetadata().getRelevantContainerForPropagation(a);if(d=d||l,!g||!d||!o.prototype.hasStableId(r)||g!==d)return!1;if(n.getParent().getElementInstance()!==l){var c=s.getBindings(a,a.getModel());if(Object.keys(c).length>0&&l.getBindingContext()){if(i.getEntityTypeByPath(a.getModel(),a.getBindingContext().getPath())!==i.getEntityTypeByPath(l.getModel(),l.getBindingContext().getPath()))return!1}}return u.call(this,t,a,d)},d.prototype.buildMoveCommand=function(){var e=this.getMovedOverlay(),n=e.getParentAggregationOverlay(),a=e.getElementInstance(),i=this._getSource(),r=e.getRelevantContainer(),o=t.getParentInformation(e),g=i.index,s=o.index;if(!this._compareSourceAndTarget(i,o))return delete i.index,delete o.index,this.getCommandFactory().getCommandFor(r,\"Move\",{movedElements:[{element:a,sourceIndex:g,targetIndex:s}],source:i,target:o},n.getDesignTimeMetadata())},d},!0);",
		"sap/ui/rta/plugin/Selection.js": "/*!\n * UI development toolkit for HTML5 (OpenUI5)\n * (c) Copyright 2009-2017 SAP SE or an SAP affiliate company.\n * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.\n */\nsap.ui.define([\"sap/ui/rta/plugin/Plugin\",\"sap/ui/rta/Utils\",\"sap/ui/fl/Utils\"],function(e,t,i){\"use strict\";function n(e,t){var i=t;return e.forEach(function(e){var t=e.getEditableByPlugins();i=i.reduce(function(e,i){return-1!==t.indexOf(i)&&e.push(i),e},[])}),i.length>0}function a(e){var t=e[e.length-1],i=e[e.length-2];return t.getRelevantContainer()===i.getRelevantContainer()}function s(e,t){return!e.some(function(e){return e.getParentElementOverlay()!==t.getParentElementOverlay()})}function o(e,t){var i=t.getElementInstance().getMetadata().getName();return!e.some(function(e){return e.getElementInstance().getMetadata().getName()!==i})}var r=e.extend(\"sap.ui.rta.plugin.Selection\",{metadata:{library:\"sap.ui.rta\",properties:{multiSelectionRequiredPlugins:{type:\"string[]\"}},associations:{},events:{elementEditableChange:{parameters:{editable:{type:\"boolean\"}}}}}});return r.prototype._checkDeveloperMode=function(e){if(e.getDesignTimeMetadata()){if(this.getCommandFactory().getFlexSettings().developerMode&&this.hasStableId(e))return e.setEditable(!0),e.setSelectable(!0),this.fireElementEditableChange({editable:!0}),!0}return!1},r.prototype.registerElementOverlay=function(e){this._checkDeveloperMode(e)||(e.attachEditableChange(this._onEditableChange,this),this._adaptSelectable(e)),e.attachBrowserEvent(\"click\",this._selectOverlay,this),e.attachBrowserEvent(\"keydown\",this._onKeyDown,this),e.attachBrowserEvent(\"mousedown\",this._onMouseDown,this)},r.prototype._onEditableChange=function(e){var t=e.getSource();this._adaptSelectable(t)},r.prototype._adaptSelectable=function(e){var t=e.getEditable();e.getSelectable()!==t&&(e.setSelectable(t),this.fireElementEditableChange({editable:t}))},r.prototype.deregisterElementOverlay=function(e){e.detachBrowserEvent(\"click\",this._selectOverlay,this),e.detachBrowserEvent(\"keydown\",this._onKeyDown,this),e.detachBrowserEvent(\"mousedown\",this._onMouseDown,this),e.detachEditableChange(this._onEditableChange,this)},r.prototype._setFocusOnOverlay=function(e,t){e&&e.getSelectable()&&(e.focus(),t.stopPropagation())},r.prototype._onKeyDown=function(e){var i=t.getFocusedOverlay();if(e.keyCode===jQuery.sap.KeyCodes.ENTER)this._selectOverlay(e);else if(e.keyCode===jQuery.sap.KeyCodes.ARROW_UP&&!1===e.shiftKey&&!1===e.altKey){if(i){var n=t.getFocusableParentOverlay(i);this._setFocusOnOverlay(n,e),e.preventDefault()}}else if(e.keyCode===jQuery.sap.KeyCodes.ARROW_DOWN&&!1===e.shiftKey&&!1===e.altKey){if(i){var a=t.getFirstFocusableDescendantOverlay(i);this._setFocusOnOverlay(a,e),e.preventDefault()}}else if(e.keyCode===jQuery.sap.KeyCodes.ARROW_LEFT&&!1===e.shiftKey&&!1===e.altKey){if(i){var s=t.getPreviousFocusableSiblingOverlay(i);this._setFocusOnOverlay(s,e),e.preventDefault()}}else if(e.keyCode===jQuery.sap.KeyCodes.ARROW_RIGHT&&!1===e.shiftKey&&!1===e.altKey&&i){var o=t.getNextFocusableSiblingOverlay(i);this._setFocusOnOverlay(o,e),e.preventDefault()}},r.prototype._selectOverlay=function(e){var t=sap.ui.getCore().byId(e.currentTarget.id),i=e.metaKey||e.ctrlKey,n=e.target.className;t.getSelectable()&&n.indexOf(\"sapUiDtOverlay\")>-1&&(i&&this.getDesignTime().setSelectionMode(sap.ui.dt.SelectionMode.Multi),t.setSelected(!t.getSelected()),i&&this.getDesignTime().setSelectionMode(sap.ui.dt.SelectionMode.Single),e.preventDefault(),e.stopPropagation())},r.prototype._onMouseDown=function(e){if(\"ie\"==sap.ui.Device.browser.name){var t=sap.ui.getCore().byId(e.target.id),i=\"sapUiDtOverlayScrollContainer\"===e.target.className,n=sap.ui.getCore().byId(e.currentTarget.id);(i||t instanceof sap.ui.dt.Overlay)&&n instanceof sap.ui.dt.Overlay&&(n.getSelectable()?(n.focus(),e.stopPropagation()):n.getDomRef().blur())}},r.prototype.setDesignTime=function(t){this.getDesignTime()&&this.getDesignTime().detachSelectionChange(this._onDesignTimeSelectionChange,this),e.prototype.setDesignTime.apply(this,arguments),this.getDesignTime()&&this.getDesignTime().attachSelectionChange(this._onDesignTimeSelectionChange,this)},r.prototype._onDesignTimeSelectionChange=function(e){if(this.getDesignTime().getSelectionMode()!==sap.ui.dt.SelectionMode.Single){var t=e.getParameter(\"selection\")[e.getParameter(\"selection\").length-1],i=this.getDesignTime().getSelection();if(i&&1===i.length)return void t.setSelected(!0);if(t&&this.getDesignTime().getSelectionMode()!==sap.ui.dt.SelectionMode.Single){var r=n(i,this.getMultiSelectionRequiredPlugins())&&a(i)&&(s(i,t)||o(i,t));t.setSelected(r)}}},r},!0);",
		"sap/ui/rta/plugin/Settings.js": "/*!\n * UI development toolkit for HTML5 (OpenUI5)\n * (c) Copyright 2009-2017 SAP SE or an SAP affiliate company.\n * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.\n */\nsap.ui.define([\"sap/ui/rta/plugin/Plugin\",\"sap/ui/rta/Utils\"],function(t,e){\"use strict\";var n=t.extend(\"sap.ui.rta.plugin.Settings\",{metadata:{library:\"sap.ui.rta\",properties:{commandStack:{type:\"any\"}},associations:{},events:{}}});return n.prototype._isEditable=function(t){if(!e.getRelevantContainerDesigntimeMetadata(t))return!1;var n=this._getSettingsAction(t);return!(!n||!n.handler)&&this.hasStableId(t)},n.prototype._getUnsavedChanges=function(t,e){var n;return this.getCommandStack().getAllExecutedCommands().filter(function(i){if((n=i.getElementId())===t&&e.indexOf(i.getChangeType())>=0)return!0}).map(function(t){return t.getPreparedChange()})},n.prototype._getSettingsAction=function(t){return t.getDesignTimeMetadata()?t.getDesignTimeMetadata().getAction(\"settings\",t.getElementInstance()):null},n.prototype.isSettingsAvailable=function(t){return this._isEditableByPlugin(t)},n.prototype.isSettingsEnabled=function(t){var e=this._getSettingsAction(t);return!!e&&(void 0===e.isEnabled||(\"function\"==typeof e.isEnabled?e.isEnabled(t.getElementInstance()):e.isEnabled))},n.prototype.handleSettings=function(t){var n,i=t[0].getElementInstance(),a={getUnsavedChanges:this._getUnsavedChanges.bind(this),styleClass:e.getRtaStyleClassName()};return t[0].getDesignTimeMetadata().getAction(\"settings\").handler(i,this._getUnsavedChanges.bind(this),a).then(function(t){t.forEach(function(t){n=this.getCommandFactory().getCommandFor(t.selectorControl,\"settings\",t.changeSpecificData),this.fireElementModified({command:n})},this)}.bind(this)).catch(function(t){if(t)throw t})},n},!0);",
		"sap/ui/rta/plugin/Split.js": "/*!\n * UI development toolkit for HTML5 (OpenUI5)\n * (c) Copyright 2009-2017 SAP SE or an SAP affiliate company.\n * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.\n */\nsap.ui.define([\"sap/ui/rta/plugin/Plugin\",\"sap/ui/dt/Selection\",\"sap/ui/dt/OverlayRegistry\",\"sap/ui/rta/Utils\",\"sap/ui/fl/Utils\"],function(t,e,i,n,a){\"use strict\";var r=t.extend(\"sap.ui.rta.plugin.Split\",{metadata:{library:\"sap.ui.rta\",properties:{},associations:{},events:{}}});return r.prototype._isEditable=function(t){if(!n.getRelevantContainerDesigntimeMetadata(t))return!1;var e=this._getSplitAction(t);return!!(e&&e.changeType&&e.changeOnRelevantContainer)&&(this.hasStableId(t)&&this.hasChangeHandler(e.changeType,t.getRelevantContainer()))},r.prototype._getSplitAction=function(t){return t.getDesignTimeMetadata()?t.getDesignTimeMetadata().getAction(\"split\",t.getElementInstance()):null},r.prototype.isSplitAvailable=function(t){if(!this._isEditableByPlugin(t))return!1;var e=this.getDesignTime().getSelection();if(1!==e.length)return!1;var i=this._getSplitAction(t),n=e[0].getElementInstance();return!(i&&i.getControlsCount(n)<=1)},r.prototype.isSplitEnabled=function(t){var e=this._getSplitAction(t);if(!e||!this.isSplitAvailable(t))return!1;var i=!0;return void 0!==e.isEnabled&&(i=\"function\"==typeof e.isEnabled?e.isEnabled(t.getElementInstance()):e.isEnabled),i},r.prototype.handleSplit=function(t){for(var e=t.getParent(),n=i.getOverlay(t),r=n.getDesignTimeMetadata(),s=this._getSplitAction(n).getControlsCount(t),l=a.getViewForControl(t),o=[],p=0;p<s-1;p++)o.push(l.createId(jQuery.sap.uid()));var g=this.getCommandFactory().getCommandFor(t,\"split\",{newElementIds:o,source:t,parentElement:e},r);this.fireElementModified({command:g})},r},!0);",
		"sap/ui/rta/RuntimeAuthoring.js": "/*!\n * UI development toolkit for HTML5 (OpenUI5)\n * (c) Copyright 2009-2017 SAP SE or an SAP affiliate company.\n * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.\n */\nsap.ui.define([\"jquery.sap.global\",\"sap/ui/base/ManagedObject\",\"sap/ui/rta/toolbar/Fiori\",\"sap/ui/rta/toolbar/Standalone\",\"sap/ui/rta/toolbar/Personalization\",\"sap/ui/dt/ElementUtil\",\"sap/ui/dt/DesignTime\",\"sap/ui/dt/OverlayRegistry\",\"sap/ui/dt/Overlay\",\"sap/ui/rta/command/Stack\",\"sap/ui/rta/command/CommandFactory\",\"sap/ui/rta/command/LREPSerializer\",\"sap/ui/rta/plugin/Rename\",\"sap/ui/rta/plugin/DragDrop\",\"sap/ui/rta/plugin/RTAElementMover\",\"sap/ui/rta/plugin/CutPaste\",\"sap/ui/rta/plugin/Remove\",\"sap/ui/rta/plugin/CreateContainer\",\"sap/ui/rta/plugin/additionalElements/AdditionalElementsPlugin\",\"sap/ui/rta/plugin/additionalElements/AddElementsDialog\",\"sap/ui/rta/plugin/additionalElements/AdditionalElementsAnalyzer\",\"sap/ui/rta/plugin/Combine\",\"sap/ui/rta/plugin/Split\",\"sap/ui/rta/plugin/Selection\",\"sap/ui/rta/plugin/Settings\",\"sap/ui/dt/plugin/ContextMenu\",\"sap/ui/dt/plugin/TabHandling\",\"sap/ui/fl/FlexControllerFactory\",\"sap/ui/rta/ui/SettingsDialog\",\"sap/ui/rta/Utils\",\"sap/ui/fl/transport/Transports\",\"sap/ui/fl/transport/TransportSelection\",\"sap/ui/fl/Utils\",\"sap/ui/fl/registry/Settings\",\"sap/m/MessageBox\",\"sap/m/MessageToast\",\"sap/ui/rta/util/PopupManager\",\"sap/ui/core/BusyIndicator\",\"sap/ui/dt/DOMUtil\",\"sap/ui/rta/util/StylesLoader\",\"sap/ui/rta/appVariant/ManageAppsLoader\",\"sap/ui/Device\"],function(t,e,n,i,o,s,a,r,l,h,u,d,g,p,c,m,_,C,f,b,y,S,P,R,E,T,v,x,A,M,D,O,w,I,N,L,U,F,k,G,z,H){\"use strict\";var X=e.extend(\"sap.ui.rta.RuntimeAuthoring\",{metadata:{library:\"sap.ui.rta\",associations:{rootControl:{type:\"sap.ui.core.Control\"}},properties:{customFieldUrl:\"string\",showCreateCustomField:\"boolean\",showToolbars:{type:\"boolean\",defaultValue:!0},triggeredFromDialog:{type:\"boolean\",defaultValue:!1},showSettingsDialog:{type:\"boolean\",defaultValue:!0},showWindowUnloadDialog:{type:\"boolean\",defaultValue:!0},commandStack:{type:\"any\"},plugins:{type:\"any\",defaultValue:{}},flexSettings:{type:\"object\",defaultValue:{layer:\"CUSTOMER\",developerMode:!0}},mode:{type:\"string\",defaultValue:\"adaptation\"}},events:{start:{parameters:{editablePluginsCount:{type:\"int\"}}},stop:{},failed:{},selectionChange:{parameters:{selection:{type:\"sap.ui.dt.Overlay[]\"}}},modeChanged:{},undoRedoStackModified:{}}},_sAppTitle:null,_dependents:null,constructor:function(){e.apply(this,arguments),this._dependents={},this.iEditableOverlaysCount=0,this.addDependent(new U,\"popupManager\"),this.getShowToolbars()&&(this.getPopupManager().attachOpen(this.onPopupOpen,this),this.getPopupManager().attachClose(this.onPopupClose,this))}});X.prototype.getDefaultPlugins=function(){if(!this._mDefaultPlugins){var e=new u({flexSettings:this.getFlexSettings()});this._mDefaultPlugins={},this._mDefaultPlugins.selection=new R({commandFactory:e,multiSelectionRequiredPlugins:[S.getMetadata().getName(),_.getMetadata().getName()],elementEditableChange:this._onElementEditableChange.bind(this)});var n=new c({commandFactory:e});this._mDefaultPlugins.dragDrop=new p({elementMover:n,commandFactory:e,dragStarted:this._handleStopCutPaste.bind(this)}),this._mDefaultPlugins.cutPaste=new m({elementMover:n,commandFactory:e}),this._mDefaultPlugins.remove=new _({commandFactory:e}),this._mDefaultPlugins.additionalElements=new f({commandFactory:e,analyzer:y,dialog:new b}),this._mDefaultPlugins.rename=new g({commandFactory:e,editable:this._handleStopCutPaste.bind(this)}),this._mDefaultPlugins.settings=new E({commandFactory:e}),this._mDefaultPlugins.createContainer=new C({commandFactory:e}),this._mDefaultPlugins.combine=new S({commandFactory:e}),this._mDefaultPlugins.split=new P({commandFactory:e}),this._mDefaultPlugins.contextMenu=new T({styleClass:M.getRtaStyleClassName()}),this._mDefaultPlugins.tabHandling=new v}return t.extend({},this._mDefaultPlugins)},X.prototype.addDependent=function(e,n){n in this._dependents||(n&&(this[\"get\"+t.sap.charToUpperCase(n,0)]=this.getDependent.bind(this,n)),this._dependents[n||e.getId()]=e)},X.prototype.getDependent=function(t){return this._dependents[t]},X.prototype.getDependents=function(){return this._dependents},X.prototype._destroyDefaultPlugins=function(t){for(var e in this._mDefaultPlugins){var n=this._mDefaultPlugins[e];n&&!n.bIsDestroyed&&(t&&t[e]===n||n.destroy())}t||(this._mDefaultPlugins=null)},X.prototype.onPopupOpen=function(t){t.getParameters()instanceof sap.m.Dialog&&this.getToolbar()instanceof n&&this.getToolbar().setColor(\"contrast\"),this.getToolbar().bringToFront()},X.prototype.onPopupClose=function(t){t.getParameters()instanceof sap.m.Dialog&&this.getToolbar().setColor()},X.prototype.setPlugins=function(t){if(this._oDesignTime)throw new Error(\"Cannot replace plugins: runtime authoring already started\");this.setProperty(\"plugins\",t)},X.prototype.setFlexSettings=function(e){var n=t.sap.getUriParameters(),i=n.mParams[\"sap-ui-layer\"];e=t.extend({},this.getFlexSettings(),e),i&&i.length>0&&(e.layer=i[0]),M.setRtaStyleClassName(e.layer),this.setProperty(\"flexSettings\",e)},X.prototype.getLayer=function(t){return this.getFlexSettings().layer},X.prototype._getFlexController=function(){var t=this._oRootControl||sap.ui.getCore().byId(this.getRootControl());return x.createForControl(t)},X.prototype._getTextResources=function(){return sap.ui.getCore().getLibraryResourceBundle(\"sap.ui.rta\")},X.prototype.start=function(){if(!this._oDesignTime)return this._oRootControl=sap.ui.getCore().byId(this.getRootControl()),this._handlePersonalizationChangesOnStart().then(function(e){if(!e){this.getPlugins()&&Object.keys(this.getPlugins()).length||this.setPlugins(this.getDefaultPlugins()),this._destroyDefaultPlugins(this.getPlugins()),Object.keys(this.getPlugins()).forEach(function(t){this.getPlugins()[t].attachElementModified&&this.getPlugins()[t].attachElementModified(this._handleElementModified,this)}.bind(this)),this.getPlugins().settings&&this.getPlugins().settings.setCommandStack(this.getCommandStack()),this._buildContextMenu(),this._oSerializer=new d({commandStack:this.getCommandStack(),rootControl:this.getRootControl()});var n=Object.keys(this.getPlugins()),i=n.map(function(t){return this.getPlugins()[t]},this);t.sap.measure.start(\"rta.dt.startup\",\"Measurement of RTA: DesignTime start up\"),this._oDesignTime=new a({rootElements:[this._oRootControl],plugins:i}),t(l.getOverlayContainer()).addClass(\"sapUiRta\"),\"USER\"===this.getLayer()&&t(l.getOverlayContainer()).addClass(\"sapUiRtaPersonalize\"),this._oRootControl.addStyleClass(\"sapUiRtaRoot\"),this._oDesignTime.attachSelectionChange(function(t){this.fireSelectionChange({selection:t.getParameter(\"selection\")})},this),this._oDesignTime.attachEventOnce(\"synced\",function(){this.fireStart({editablePluginsCount:this.iEditableOverlaysCount}),t.sap.measure.end(\"rta.dt.startup\",\"Measurement of RTA: DesignTime start up\")},this),this._oDesignTime.attachEventOnce(\"syncFailed\",function(){this.fireFailed()},this),this._$document=t(document),this.fnKeyDown=this._onKeyDown.bind(this),this._$document.on(\"keydown\",this.fnKeyDown),this._oldUnloadHandler=window.onbeforeunload,window.onbeforeunload=this._onUnload.bind(this),sap.ui.getCore().getEventBus().subscribe(\"sap.ushell.renderers.fiori2.Renderer\",\"appClosed\",this._onAppClosed,this)}return Promise.resolve(e)}.bind(this)).then(function(t){var e;if(this.getShowToolbars()&&!t)return I.getInstance(w.getComponentClassName(this._oRootControl)).then(function(t){return e=z.hasAppVariantsSupport(this.getLayer(),t.isAtoEnabled()&&t.isAtoAvailable()),!t.isProductiveSystem()&&!t.hasMergeErrorOccured()}.bind(this)).catch(function(t){return!1}).then(function(t){return this._createToolsMenu(t,e),this.getToolbar().show()}.bind(this))}.bind(this)).then(function(){this.getPopupManager().setRta(this);var t=this.getPopupManager().getRelevantPopups();if(t.aDialogs||t.aPopovers)return this.getShowToolbars()&&this.getToolbar().bringToFront()}.bind(this)).then(function(){G.loadStyles(\"InPageStyles\").then(function(t){var e=t.replace(/%scrollWidth%/g,k.getScrollbarWidth()+\"px\");k.insertStyles(e)})})};var B=function(e){var n=e.stack||e.message||e.status||e,i=sap.ui.getCore().getLibraryResourceBundle(\"sap.ui.rta\");t.sap.log.error(\"Failed to transfer runtime adaptation changes to layered repository\",n);var o=i.getText(\"MSG_LREP_TRANSFER_ERROR\")+\"\\n\"+i.getText(\"MSG_ERROR_REASON\",n);N.error(o,{styleClass:M.getRtaStyleClassName()})};X.prototype._onAppClosed=function(){this.stop(!0,!0)},X.prototype.setCommandStack=function(t){var e=this.getProperty(\"commandStack\");e&&e.detachModified(this._onStackModified,this),this._oInternalCommandStack&&(this._oInternalCommandStack.destroy(),delete this._oInternalCommandStack);var n=this.setProperty(\"commandStack\",t);return t&&t.attachModified(this._onStackModified,this),this.getPlugins()&&this.getPlugins().settings&&this.getPlugins().settings.setCommandStack(t),n},X.prototype.getCommandStack=function(){var t=this.getProperty(\"commandStack\");return t||(t=new h,this._oInternalCommandStack=t,this.setCommandStack(t)),t},X.prototype._onStackModified=function(){var t=this.getCommandStack(),e=t.canUndo(),n=t.canRedo(),i=M.getUshellContainer();this.getShowToolbars()&&(this.getToolbar().setUndoRedoEnabled(e,n),this.getToolbar().setPublishEnabled(this._bChangesExist||e),this.getToolbar().setRestoreEnabled(this._bChangesExist||e)),this.fireUndoRedoStackModified(),i&&(e?i.setDirtyFlag(!0):i.setDirtyFlag(!1))},X.prototype._closeToolbar=function(){if(this.getShowToolbars())return this.getToolbar().hide()},X.prototype.getSelection=function(){return this._oDesignTime?this._oDesignTime.getSelection():[]},X.prototype.stop=function(t,e){return(t?Promise.resolve():this._serializeToLrep()).then(this._closeToolbar.bind(this)).then(e?Promise.resolve():this._handlePersonalizationChangesOnExit.bind(this)).then(function(){this.exit(),this.fireStop()}.bind(this)).catch(B)},X.prototype.restore=function(){this._onRestore()},X.prototype.transport=function(){this._onTransport()},X.prototype.undo=function(){return this._onUndo()},X.prototype.redo=function(){return this._onRedo()},X.prototype.canUndo=function(){return this.getCommandStack().canUndo()},X.prototype.canRedo=function(){return this.getCommandStack().canRedo()},X.prototype._onKeyDown=function(e){var n=H.os.macintosh,i=l.getOverlayContainer().contains(document.activeElement),o=this.getShowToolbars()&&this.getToolbar().getDomRef().contains(document.activeElement),s=document.body===document.activeElement,a=t(document.activeElement).parents(\".sapUiRtaEditableField\").length>0;if((i||o||s)&&!a){var r=n?e.metaKey:e.ctrlKey;e.keyCode===t.sap.KeyCodes.Z&&!1===e.shiftKey&&!1===e.altKey&&!0===r?this._onUndo().then(e.stopPropagation.bind(e)):(n&&e.keyCode===t.sap.KeyCodes.Z&&!0===e.shiftKey||!n&&e.keyCode===t.sap.KeyCodes.Y&&!1===e.shiftKey)&&!1===e.altKey&&!0===r&&this._onRedo().then(e.stopPropagation.bind(e))}},X.prototype._onUnload=function(){var t=this.getCommandStack();if((t.canUndo()||t.canRedo())&&this.getShowWindowUnloadDialog())return this._getTextResources().getText(\"MSG_UNSAVED_CHANGES\");window.onbeforeunload=this._oldUnloadHandler},X.prototype._serializeToLrep=function(){return this._oSerializer.saveCommands()},X.prototype._onUndo=function(){return this._handleStopCutPaste(),this.getCommandStack().undo()},X.prototype._onRedo=function(){return this._handleStopCutPaste(),this.getCommandStack().redo()},X.prototype._createToolsMenu=function(t,e){if(!this.getDependent(\"toolbar\")){var s;s=\"USER\"===this.getLayer()?o:M.getFiori2Renderer()?n:i,\"USER\"===this.getLayer()?this.addDependent(new s({textResources:this._getTextResources(),exit:this.stop.bind(this,!1,!1),restore:this._onRestore.bind(this)}),\"toolbar\"):this.addDependent(new s({modeSwitcher:this.getMode(),publishVisible:t,textResources:this._getTextResources(),manageAppsVisible:e,exit:this.stop.bind(this,!1,!1),transport:this._onTransport.bind(this),restore:this._onRestore.bind(this),undo:this._onUndo.bind(this),redo:this._onRedo.bind(this),modeChange:this._onModeChange.bind(this),manageApps:z.load.bind(null,this.getRootControl())}),\"toolbar\"),this._checkChangesExist().then(function(t){this._bChangesExist=t,this.getToolbar().setPublishEnabled(t),this.getToolbar().setRestoreEnabled(t)}.bind(this))}},X.prototype.exit=function(){t.map(this._dependents,function(t){t.destroy()}),this._oDesignTime&&(t(l.getOverlayContainer()).removeClass(\"sapUiRta\"),this._oDesignTime.destroy(),this._oDesignTime=null,this._$document.off(\"keydown\",this.fnKeyDown),this._destroyDefaultPlugins(),this.setPlugins(null)),this._oRootControl&&this._oRootControl.removeStyleClass(\"sapUiRtaRoot\"),this.setCommandStack(null);var e=M.getUshellContainer();e&&e.setDirtyFlag(!1),window.onbeforeunload=this._oldUnloadHandler,sap.ui.getCore().getEventBus().unsubscribe(\"sap.ushell.renderers.fiori2.Renderer\",\"appClosed\",this._onAppClosed,this)},X.prototype._onTransport=function(){var t=function(t){if(F.hide(),\"createAndApply failed\"!==t.message)return w.log.error(\"transport error\"+t),this._showMessage(N.Icon.ERROR,\"HEADER_TRANSPORT_ERROR\",\"MSG_TRANSPORT_ERROR\",t)}.bind(this);return this._handleStopCutPaste(),this._openSelection().then(this._checkTransportInfo).then(function(e){if(e)return this._serializeToLrep().then(function(){return this._getFlexController().getComponentChanges({currentLayer:this.getLayer()}).then(function(n){if(n.length>0)return F.show(0),this._createAndApplyChanges(n).then(this._transportAllLocalChanges.bind(this,e)).catch(t)}.bind(this))}.bind(this)).catch(B)}.bind(this))},X.prototype._checkTransportInfo=function(t){return!(!t||!t.transport||\"$TMP\"===t.packageName)&&t},X.prototype._openSelection=function(){return(new O).openTransportSelection(null,this._oRootControl,M.getRtaStyleClassName())},X.prototype._createAndApplyChanges=function(t){var e=[];return Promise.resolve().then(function(){function n(t){return t&&t.selector&&t.selector.id}return t.filter(n).forEach(function(t){var n=sap.ui.getCore().byId(t.selector.id);e.push(function(){return Promise.resolve().then(function(){return this._getFlexController().createAndApplyChange(t,n)}.bind(this))}.bind(this))}.bind(this)),w.execPromiseQueueSequentially(e)}.bind(this)).catch(function(t){return w.log.error(\"Create and apply error: \"+t),t}).then(function(t){return this._getFlexController().saveAll().then(function(){if(t)throw t})}.bind(this)).catch(function(t){return w.log.error(\"Create and apply and/or save error: \"+t),this._showMessage(N.Icon.ERROR,\"HEADER_TRANSPORT_APPLYSAVE_ERROR\",\"MSG_TRANSPORT_APPLYSAVE_ERROR\",t)}.bind(this))},X.prototype._deleteChanges=function(){var t=new O,e=this.getLayer(),n=this.getCommandStack().getAllExecutedCommands().reduce(function(t,e){return e.getPreparedChange&&t.push(e.getPreparedChange()),t},[]);this._getFlexController().getComponentChanges({currentLayer:e}).then(function(i){return i=i.concat(n),I.getInstance(w.getComponentClassName(this._oRootControl)).then(function(e){if(!e.isProductiveSystem()&&!e.hasMergeErrorOccured())return t.setTransports(i,this._oRootControl)}.bind(this)).then(function(){return this._getFlexController().discardChanges(i,\"USER\"===e)}.bind(this)).then(function(){return window.location.reload()})}.bind(this)).catch(function(t){return this._showMessage(N.Icon.ERROR,\"HEADER_RESTORE_FAILED\",\"MSG_RESTORE_FAILED\",t)}.bind(this))},X.prototype._showMessage=function(t,e,n,i){var o=this._getTextResources().getText(n,i?[i.message||i]:void 0),s=this._getTextResources().getText(e);return new Promise(function(e){N.show(o,{icon:t,title:s,onClose:e,styleClass:M.getRtaStyleClassName()})})},X.prototype._showMessageToast=function(t){var e=this._getTextResources().getText(t);L.show(e)},X.needsRestart=function(t){return!!window.localStorage.getItem(\"sap.ui.rta.restart.\"+t)},X.enableRestart=function(t){window.localStorage.setItem(\"sap.ui.rta.restart.\"+t,!0)},X.disableRestart=function(t){window.localStorage.removeItem(\"sap.ui.rta.restart.\"+t)},X.prototype._onRestore=function(){var t=\"USER\"===this.getLayer()?this._getTextResources().getText(\"FORM_PERS_RESET_MESSAGE_PERSONALIZATION\"):this._getTextResources().getText(\"FORM_PERS_RESET_MESSAGE\"),e=\"USER\"===this.getLayer()?this._getTextResources().getText(\"BTN_RESTORE\"):this._getTextResources().getText(\"FORM_PERS_RESET_TITLE\"),n=function(t){\"OK\"===t&&(X.enableRestart(this.getLayer()),this._deleteChanges(),this.getCommandStack().removeAllCommands())}.bind(this);this._handleStopCutPaste(),N.confirm(t,{icon:N.Icon.WARNING,title:e,onClose:n,styleClass:M.getRtaStyleClassName()})},X.prototype._transportAllLocalChanges=function(t){return this._getFlexController().getComponentChanges({currentLayer:this.getLayer()}).then(function(e){var n=new D,i=n._convertToChangeTransportData(e),o={};return o.package=t.packageName,o.transportId=t.transport,o.changeIds=i,n.makeChangesTransportable(o).then(function(){e.forEach(function(e){if(\"$TMP\"===e.getPackage()){var n=e.getDefinition();n.packageName=t.packageName,e.setResponse(n)}})}).then(function(){F.hide(),this._showMessageToast(\"MSG_TRANSPORT_SUCCESS\")}.bind(this))}.bind(this))},X.prototype._isEqualParentInfo=function(t,e){var n=!!t&&!!e;return n&&t.parent&&e.parent&&(n=t.parent.getId()===e.parent.getId()),n&&(t.index||e.index)&&(n=t.index===e.index),n&&(t.aggregation||e.aggregation)&&(n=t.aggregation===e.aggregation),n},X.prototype._setRenameOnCreatedContainer=function(t,e){var n=this.getPlugins().createContainer.getCreatedContainerOverlay(t,e);if(n&&(n.setSelected(!0),this.getPlugins().rename)){var i={onAfterRendering:function(){setTimeout(function(){this.getPlugins().rename.startEdit(n)}.bind(this),0),n.removeEventDelegate(i)}.bind(this)};n.addEventDelegate(i)}},X.prototype._handleElementModified=function(t){this._handleStopCutPaste();var e=t.getParameter(\"action\"),n=t.getParameter(\"newControlId\"),i=t.getParameter(\"command\");return i instanceof sap.ui.rta.command.BaseCommand?this.getCommandStack().pushAndExecute(i).then(function(){e&&n&&this._setRenameOnCreatedContainer(e,n)}.bind(this)):Promise.resolve()},X.prototype._onElementEditableChange=function(t){t.getParameter(\"editable\")?this.iEditableOverlaysCount+=1:this.iEditableOverlaysCount-=1},X.prototype._handleRemoveElement=function(t){this.getPlugins().remove.removeElement(t)},X.prototype._openSettingsDialog=function(t){var e=t.mParameters?t.getParameter(\"selectedOverlays\"):t,n=e[0].getElementInstance();this._handleStopCutPaste(),this._oSettingsDialog||(this._oSettingsDialog=new A),this._oSettingsDialog.setCommandStack(this.getCommandStack()),this._oSettingsDialog.open(n)};var K=function(t){return this._oDesignTime.getSelection().length<2},V=function(t){return t.getMovable()},W=function(t){return this.getPlugins().remove.isRemoveAvailable(t)},Z=function(t){return this.getPlugins().remove.isRemoveEnabled(t)},j=function(t){return this.getPlugins().rename.isRenameAvailable(t)},$=function(t){return this.getPlugins().rename.isRenameEnabled(t)},q=function(t){return this.getPlugins().settings.isSettingsAvailable(t)},Y=function(t){return this.getPlugins().settings.isSettingsEnabled(t)},Q=function(t){return this.getPlugins().combine.isCombineAvailable(t)},J=function(t){return this.getPlugins().combine.isCombineEnabled(t)},tt=function(t){return this.getPlugins().split.isSplitAvailable(t)},et=function(t){return this.getPlugins().split.isSplitEnabled(t)};return X.prototype._buildContextMenu=function(){var t=this.getPlugins().contextMenu;if(t){var e=this.getPlugins().additionalElements,n=this.getPlugins().createContainer;this.getPlugins().rename&&t.addMenuItem({id:\"CTX_RENAME_LABEL\",text:this._getTextResources().getText(\"CTX_RENAME\"),handler:this._handleRename.bind(this),available:j.bind(this),enabled:function(t){return K.call(this,t)&&$.call(this,t)}.bind(this)}),e&&(t.addMenuItem({id:\"CTX_ADD_ELEMENTS_AS_SIBLING\",text:e.getContextMenuTitle.bind(e,!0),handler:e.showAvailableElements.bind(e,!0),available:e.isAvailable.bind(e,!0),enabled:function(t){return K.call(this,t)&&e.isEnabled(!0,t)}.bind(this)}),t.addMenuItem({id:\"CTX_ADD_ELEMENTS_AS_CHILD\",text:e.getContextMenuTitle.bind(e,!1),handler:e.showAvailableElements.bind(e,!1),available:e.isAvailable.bind(e,!1),enabled:function(t){return K.call(this,t)&&e.isEnabled(!1,t)}.bind(this)})),n&&(t.addMenuItem({id:\"CTX_CREATE_CHILD_CONTAINER\",text:n.getCreateContainerText.bind(n,!1),handler:this._createContainer.bind(this,!1),available:n.isCreateAvailable.bind(n,!1),enabled:n.isCreateEnabled.bind(n,!1)}),t.addMenuItem({id:\"CTX_CREATE_SIBLING_CONTAINER\",text:n.getCreateContainerText.bind(n,!0),handler:this._createContainer.bind(this,!0),available:n.isCreateAvailable.bind(n,!0),enabled:n.isCreateEnabled.bind(n,!0)})),this.getPlugins().remove&&t.addMenuItem({id:\"CTX_REMOVE\",text:this._getTextResources().getText(\"CTX_REMOVE\"),handler:this._handleRemoveElement.bind(this),available:W.bind(this),enabled:Z.bind(this)}),t.addMenuItem({id:\"CTX_CUT\",text:this._getTextResources().getText(\"CTX_CUT\"),handler:this._handleCutElement.bind(this),available:V,enabled:function(){return 1===this._oDesignTime.getSelection().length}.bind(this)}),this.getPlugins().cutPaste&&t.addMenuItem({id:\"CTX_PASTE\",text:this._getTextResources().getText(\"CTX_PASTE\"),handler:this._handlePasteElement.bind(this),available:V,enabled:function(t){return this.getPlugins().cutPaste.isElementPasteable(t)}.bind(this)}),t.addMenuItem({id:\"CTX_GROUP_FIELDS\",text:this._getTextResources().getText(\"CTX_GROUP_FIELDS\"),handler:this._handleCombineElements.bind(this),available:Q.bind(this),enabled:J.bind(this)}),t.addMenuItem({id:\"CTX_UNGROUP_FIELDS\",text:this._getTextResources().getText(\"CTX_UNGROUP_FIELDS\"),handler:this._handleSplitElements.bind(this),available:tt.bind(this),enabled:et.bind(this)}),this.getPlugins().settings&&t.addMenuItem({id:\"CTX_SETTINGS\",text:this._getTextResources().getText(\"CTX_SETTINGS\"),handler:this._handleSettings.bind(this),available:q.bind(this),enabled:Y.bind(this)})}},X.prototype._createContainer=function(t,e){this._handleStopCutPaste();var n=e[0];this.getPlugins().createContainer.handleCreate(t,n)},X.prototype._handleRename=function(t){var e=t[0];this.getPlugins().rename.startEdit(e)},X.prototype._handleCutElement=function(t){var e=t[0];this.getPlugins().cutPaste.cut(e)},X.prototype._handlePasteElement=function(t){var e=t[0];this.getPlugins().cutPaste.paste(e)},X.prototype._handleStopCutPaste=function(){this.getPlugins().cutPaste.stopCutAndPaste()},X.prototype._handleCombineElements=function(){this._handleStopCutPaste();var t=this.getPlugins().contextMenu.getContextElement();this.getPlugins().combine.handleCombine(t)},X.prototype._handleSplitElements=function(){this._handleStopCutPaste();var t=this.getPlugins().contextMenu.getContextElement();this.getPlugins().split.handleSplit(t)},X.prototype._handleSettings=function(t){this.getPlugins().settings.handleSettings(t)},X.prototype._getApplicationTitle=function(){var t=\"\",e=sap.ui.core.Component.getOwnerComponentFor(this._oRootControl);return e&&(t=e.getMetadata().getManifestEntry(\"sap.app\").title),t},X.prototype._checkChangesExist=function(){return this._getFlexController().getComponentName().length>0?this._getFlexController().getComponentChanges({currentLayer:this.getLayer()}).then(function(t){return t.length>0}):Promise.resolve(!1)},X.prototype._getURLParsedHash=function(){var t=sap.ushell.Container.getService(\"URLParsing\");if(t.parseShellHash&&t.getHash)return t.parseShellHash(t.getHash(window.location.href))},X.prototype._buildNavigationArguments=function(t){return{target:{semanticObject:t.semanticObject,action:t.action,context:t.contextRaw},params:t.params,appSpecificRoute:t.appSpecificRoute,writeHistory:!1}},X.prototype._hasCustomerLayerParameter=function(t){return t.params&&t.params[\"sap-ui-fl-max-layer\"]&&\"CUSTOMER\"===t.params[\"sap-ui-fl-max-layer\"][0]},X.prototype._reloadWithoutPersonalizationChanges=function(t,e){if(!this._hasCustomerLayerParameter(t))return t.params||(t.params={}),t.params[\"sap-ui-fl-max-layer\"]=[\"CUSTOMER\"],X.enableRestart(\"CUSTOMER\"),e.toExternal(this._buildNavigationArguments(t)),Promise.resolve(!0)},X.prototype._reloadWithPersonalizationChanges=function(t,e){if(this._hasCustomerLayerParameter(t))return delete t.params[\"sap-ui-fl-max-layer\"],e.toExternal(this._buildNavigationArguments(t)),Promise.resolve(!0)},X.prototype._handlePersonalizationMessageBoxOnStart=function(){return this._showMessage(N.Icon.INFORMATION,\"HEADER_PERSONALIZATION_EXISTS\",\"MSG_PERSONALIZATION_EXISTS\")},X.prototype._handlePersonalizationChangesOnStart=function(){if(M.getUshellContainer()&&\"USER\"!==this.getLayer()){var t=this._getURLParsedHash();return this._getFlexController().isPersonalized({ignoreMaxLayerParameter:!1}).then(function(e){if(e)return this._handlePersonalizationMessageBoxOnStart().then(function(){var e=sap.ushell.Container.getService(\"CrossApplicationNavigation\");if(e.toExternal&&t)return this._reloadWithoutPersonalizationChanges(t,e)}.bind(this))}.bind(this))}return Promise.resolve(!1)},X.prototype._handlePersonalizationMessageBoxOnExit=function(){return new Promise(function(t){var e=this._getTextResources().getText(\"MSG_LOAD_PERSONALIZATION_CHANGES\"),n=this._getTextResources().getText(\"HEADER_LOAD_PERSONALIZATION_CHANGES\"),i=this._getTextResources().getText(\"MSG_PERSONALIZATION_CONFIRM_BUTTON_TEXT\"),o=this._getTextResources().getText(\"MSG_PERSONALIZATION_CANCEL_BUTTON_TEXT\"),s=function(e){return e===i?t(!0):e===o?t(!1):void 0};N.confirm(e,{icon:N.Icon.QUESTION,title:n,actions:[i,o],onClose:s,styleClass:M.getRtaStyleClassName()})}.bind(this))},X.prototype._handlePersonalizationChangesOnExit=function(){var t=M.getUshellContainer();return sap.ui.getCore().getEventBus().unsubscribe(\"sap.ushell.renderers.fiori2.Renderer\",\"appClosed\",this._onAppClosed,this),t&&\"USER\"!==this.getLayer()?this._getFlexController().isPersonalized({ignoreMaxLayerParameter:!0}).then(function(t){if(t)return this._handlePersonalizationMessageBoxOnExit().then(function(t){if(t){var e=sap.ushell.Container.getService(\"CrossApplicationNavigation\"),n=this._getURLParsedHash();if(e.toExternal&&n)return this._reloadWithPersonalizationChanges(n,e)}}.bind(this))}.bind(this)):Promise.resolve(!1)},X.prototype._onModeChange=function(t){this.setMode(t.getParameter(\"key\"))},X.prototype.setMode=function(t){if(this.getProperty(\"mode\")!==t){var e=this.getShowToolbars()&&this.getToolbar().getControl(\"modeSwitcher\"),n=\"adaptation\"===t;e&&e.setSelectedButton(e.getItems().filter(function(e){return e.getKey()===t}).pop().getId()),this._oDesignTime.setEnabled(n),this.getPlugins().tabHandling[n?\"removeTabIndex\":\"restoreTabIndex\"](),this.setProperty(\"mode\",t),this.fireModeChanged({mode:t})}},X},!0);",
		"sap/ui/rta/test/controlEnablingCheck.js": "/*!\n * UI development toolkit for HTML5 (OpenUI5)\n * (c) Copyright 2009-2017 SAP SE or an SAP affiliate company.\n * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.\n */\nsap.ui.define([\"sap/ui/core/UIComponent\",\"sap/ui/core/ComponentContainer\",\"sap/ui/core/mvc/XMLView\",\"sap/ui/rta/command/CommandFactory\",\"sap/ui/dt/DesignTime\",\"sap/ui/dt/ElementUtil\",\"sap/ui/dt/OverlayRegistry\",\"sap/ui/dt/ElementDesignTimeMetadata\",\"sap/ui/fl/ChangePersistenceFactory\",\"sap/ui/fl/ChangePersistence\",\"sap/ui/model/Model\",\"sap/ui/fl/FlexControllerFactory\",\"sap/ui/rta/ControlTreeModifier\",\"sap/ui/fl/library\",\"sap/ui/thirdparty/sinon\",\"sap/ui/thirdparty/sinon-ie\",\"sap/ui/thirdparty/sinon-qunit\"],function(e,t,n,o,i,a,r,s,h,c,m,d,p){\"use strict\";var l=function(n,s){function h(e){this.oUiComponent=new g({id:\"comp\",componentData:{async:e}}),this.oUiComponentContainer=new t({component:this.oUiComponent}),this.oUiComponentContainer.placeAt(s.placeAt||\"content\"),this.oView=this.oUiComponent.getRootControl(),s.model instanceof m&&this.oView.setModel(s.model),sap.ui.getCore().applyChanges()}function u(e){return this.oControl=this.oView.byId(s.action.controlId),a.loadDesignTimeMetadata(this.oControl).then(function(t){var n;return n=s.action.parameter?\"function\"==typeof s.action.parameter?s.action.parameter(this.oView):s.action.parameter:{},sap.ui.getCore().applyChanges(),this.oDesignTime=new i({rootElements:[this.oView]}),new Promise(function(t){this.oDesignTime.attachEventOnce(\"synced\",function(){this.oControlOverlay=r.getOverlay(this.oControl);var i=new o({flexSettings:{layer:s.layer||\"CUSTOMER\"}}),a=this.oControlOverlay.getDesignTimeMetadata();if(\"move\"===s.action.name){var h=r.getOverlay(n.movedElements[0].element),c=h.getRelevantContainer();this.oControl=c,a=h.getParentAggregationOverlay().getDesignTimeMetadata()}else if(\"addODataProperty\"===s.action.name){var m=a.getAggregationAction(\"addODataProperty\",this.oControl);e.equal(m.length,1,\"there should be only one aggregation with the possibility to do addODataProperty action\");var d=this.oControlOverlay.getAggregationOverlay(m[0].aggregation);a=d.getDesignTimeMetadata()}this.oCommand=i.getCommandFor(this.oControl,s.action.name,n,a),e.ok(this.oCommand,\"then the registration for action to change type, the registration for change and control type to change handler is available and \"+s.action.name+\" is a valid action\"),t()}.bind(this))}.bind(this))}.bind(this))}if(!(l._only&&n.indexOf(l._only)<0)){QUnit.module(n,{}),QUnit.test(\"When using the 'controlEnablingCheck' function to test if your control is ready for UI adaptation at runtime\",function(e){e.ok(s.afterAction,\"then you implement a function to check if your action has been successful: See the afterAction parameter.\"),e.ok(s.afterUndo,\"then you implement a function to check if the undo has been successful: See the afterUndo parameter.\"),e.ok(s.afterRedo,\"then you implement a function to check if the redo has been successful: See the afterRedo parameter.\"),e.ok(s.xmlView,\"then you provide an XML view to test on: See the.xmlView parameter.\");var t=(new DOMParser).parseFromString(s.xmlView,\"application/xml\").documentElement;e.ok(t.tagName.match(\"View$\"),\"then you use the sap.ui.core.mvc View tag as the first tag in your view\"),e.ok(s.action,\"then you provide an action: See the action parameter.\"),e.ok(s.action.name,\"then you provide an action name: See the action.name parameter.\"),e.ok(s.action.controlId,\"then you provide the id of the control to operate the action on: See the action.controlId.\")});var g=e.extend(\"sap.ui.rta.control.enabling.comp\",{metadata:{manifest:{\"sap.app\":{id:\"sap.ui.rta.control.enabling.comp\",type:\"application\"}}},createContent:function(){return sap.ui.xmlview({id:this.createId(\"view\"),viewContent:s.xmlView,async:this.getComponentData().async||!1})}});s.jsOnly||(QUnit.module(n+\" on async views\",{afterEach:function(){this.oUiComponentContainer.destroy(),this.oDesignTime.destroy(),this.oCommand.destroy()}}),QUnit.test(\"When applying the change directly on the XMLView\",function(e){var t=[];return this.stub(c.prototype,\"getChangesForComponent\").returns(Promise.resolve(t)),this.stub(c.prototype,\"getCacheKey\").returns(Promise.resolve(\"etag-123\")),h.call(this,!1),u.call(this,e).then(function(){var e=this.oCommand.getPreparedChange();t.push(e),this.oUiComponentContainer.destroy(),h.call(this,!0)}.bind(this)).then(function(){return this.oView.loaded()}.bind(this)).then(function(t){s.afterAction(this.oUiComponent,t,e)}.bind(this))})),QUnit.module(n,{beforeEach:function(e){return h.call(this,!1),u.call(this,e)},afterEach:function(){this.oUiComponentContainer.destroy(),this.oDesignTime.destroy(),this.oCommand.destroy()}}),QUnit.test(\"When executing the underlying command on the control at runtime\",function(e){var t=e.async();this.oCommand.execute().then(function(){sap.ui.getCore().applyChanges(),s.afterAction(this.oUiComponent,this.oView,e),t()}.bind(this))}),QUnit.test(\"When executing and undoing the command\",function(e){var t=e.async();this.oCommand.execute().then(this.oCommand.undo.bind(this.oCommand)).then(function(){var e=this.oCommand.getPreparedChange();if(this.oCommand.getAppComponent){var t=this.oCommand.getAppComponent(),n=p.bySelector(e.getSelector(),t);d.createForControl(t).removeFromAppliedChangesOnControl(e,t,n)}}.bind(this)).then(function(){sap.ui.getCore().applyChanges(),s.afterUndo(this.oUiComponent,this.oView,e),t()}.bind(this))}),QUnit.test(\"When executing, undoing and redoing the command\",function(e){var t=e.async();this.oCommand.execute().then(this.oCommand.undo.bind(this.oCommand)).then(function(){var e=this.oCommand.getPreparedChange();if(this.oCommand.getAppComponent){var t=this.oCommand.getAppComponent(),n=p.bySelector(e.getSelector(),t);return d.createForControl(t).removeFromAppliedChangesOnControl(e,t,n)}}.bind(this)).then(this.oCommand.execute.bind(this.oCommand)).then(function(){sap.ui.getCore().applyChanges(),s.afterRedo(this.oUiComponent,this.oView,e),t()}.bind(this))})}};return l.skip=function(){},l.only=function(e){l._only=e},l});",
		"sap/ui/rta/toolbar/Adaptation.js": "/*!\n * UI development toolkit for HTML5 (OpenUI5)\n * (c) Copyright 2009-2017 SAP SE or an SAP affiliate company.\n * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.\n */\nsap.ui.define([\"sap/m/ToolbarSpacer\",\"sap/m/Button\",\"sap/m/SegmentedButton\",\"sap/m/SegmentedButtonItem\",\"./Base\"],function(e,t,n,s,a){\"use strict\";var o=a.extend(\"sap.ui.rta.toolbar.Adaptation\",{renderer:\"sap.ui.rta.toolbar.BaseRenderer\",animation:!0,metadata:{events:{undo:{},redo:{},exit:{},restore:{},transport:{},modeChange:{},manageApps:{}},properties:{publishVisible:{type:\"boolean\",defaultValue:!1},modeSwitcher:{type:\"string\",defaultValue:\"adaptation\"},manageAppsVisible:{type:\"boolean\",defaultValue:!1}}}});return o.prototype.onAfterRendering=function(){var t=-1,n=!1,s=this.getAggregation(\"content\").reduce(function(s,a){switch(a.data(\"name\")){case\"spacerLeft\":t=1,n=!0;break;case\"spacerRight\":n=!1}return a instanceof e||n?s:s+t*a.$().outerWidth(!0)},0);s>0&&this.getControl(\"spacerBalancer\").setWidth(s+\"px\"),a.prototype.onAfterRendering.apply(this,arguments)},o.prototype.buildControls=function(){return[(new e).data(\"name\",\"spacerBalancer\"),(new e).data(\"name\",\"spacerLeft\"),new n({width:\"auto\",selectedKey:this.getModeSwitcher(),items:[new s({text:this.getTextResources().getText(\"BTN_ADAPTATION\"),tooltip:this.getTextResources().getText(\"BTN_ADAPTATION\"),width:\"auto\",key:\"adaptation\"}),new s({text:this.getTextResources().getText(\"BTN_NAVIGATION\"),tooltip:this.getTextResources().getText(\"BTN_NAVIGATION\"),width:\"auto\",key:\"navigation\"})],select:this.eventHandler.bind(this,\"ModeChange\")}).data(\"name\",\"modeSwitcher\"),(new e).data(\"name\",\"spacerRight\"),new t({type:\"Transparent\",icon:\"sap-icon://undo\",enabled:!1,tooltip:this.getTextResources().getText(\"BTN_UNDO\"),press:this.eventHandler.bind(this,\"Undo\")}).data(\"name\",\"undo\"),new t({type:\"Transparent\",icon:\"sap-icon://redo\",iconFirst:!1,enabled:!1,tooltip:this.getTextResources().getText(\"BTN_REDO\"),press:this.eventHandler.bind(this,\"Redo\")}).data(\"name\",\"redo\"),new t({type:\"Transparent\",icon:\"sap-icon://message-information\",visible:this.getManageAppsVisible(),tooltip:this.getTextResources().getText(\"BTN_MANAGE_APPS\"),press:this.eventHandler.bind(this,\"ManageApps\")}).data(\"name\",\"manageApps\"),new t({type:\"Transparent\",text:this.getTextResources().getText(\"BTN_RESTORE\"),visible:!0,enabled:!1,tooltip:this.getTextResources().getText(\"BTN_RESTORE\"),press:this.eventHandler.bind(this,\"Restore\")}).data(\"name\",\"restore\"),new sap.m.Button({type:\"Transparent\",enabled:!1,visible:this.getPublishVisible(),text:this.getTextResources().getText(\"BTN_PUBLISH\"),tooltip:this.getTextResources().getText(\"BTN_PUBLISH\"),press:this.eventHandler.bind(this,\"Transport\")}).data(\"name\",\"publish\"),new t({type:\"Transparent\",text:this.getTextResources().getText(\"BTN_EXIT\"),tooltip:this.getTextResources().getText(\"BTN_EXIT\"),press:this.eventHandler.bind(this,\"Exit\")}).data(\"name\",\"exit\")]},o.prototype.setUndoRedoEnabled=function(e,t){this.getControl(\"undo\").setEnabled(e),this.getControl(\"redo\").setEnabled(t)},o.prototype.setPublishEnabled=function(e){this.getControl(\"publish\").setEnabled(e)},o.prototype.setRestoreEnabled=function(e){this.getControl(\"restore\").setEnabled(e)},o.prototype.show=function(){return a.prototype.show.apply(this,arguments)},o.prototype.hide=function(){return a.prototype.hide.apply(this,arguments)},o},!0);",
		"sap/ui/rta/toolbar/Base.js": "/*!\n * UI development toolkit for HTML5 (OpenUI5)\n * (c) Copyright 2009-2017 SAP SE or an SAP affiliate company.\n * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.\n */\nsap.ui.define([\"jquery.sap.global\",\"sap/ui/rta/library\",\"sap/ui/core/Popup\",\"sap/m/Toolbar\",\"sap/ui/core/BusyIndicator\",\"sap/ui/rta/util/Animation\"],function(t,e,i,n,o,r){\"use strict\";var s=n.extend(\"sap.ui.rta.toolbar.Base\",{metadata:{library:\"sap.ui.rta\",properties:{color:{type:\"string\",defaultValue:\"default\"},zIndex:{type:\"int\"},textResources:\"object\"}},constructor:function(){n.apply(this,arguments),this.setVisible(!1),this.placeToContainer(),this.buildContent()},type:null,animation:!1});return s.prototype.init=function(){n.prototype.init.apply(this,arguments)},s.prototype.onBeforeRendering=function(){n.prototype.onBeforeRendering.apply(this,arguments)},s.prototype.onAfterRendering=function(){n.prototype.onAfterRendering.apply(this,arguments)},s.prototype.eventHandler=function(t,e){this[\"fire\"+t](e.getParameters())},s.prototype.buildControls=function(){return[]},s.prototype.placeToContainer=function(){this.placeAt(t(\"#sap-ui-static\").get(0))},s.prototype.buildContent=function(){this.buildControls().forEach(this.addContent,this)},s.prototype.show=function(){return new Promise(function(t){var e={onAfterRendering:function(){this.removeEventDelegate(e),t()}};this.addEventDelegate(e,this),this.bringToFront(),this.setVisible(!0)}.bind(this)).then(function(){return this.animation?r.waitTransition(this.$(),this.addStyleClass.bind(this,\"is_visible\")):Promise.resolve()}.bind(this)).then(function(){this.focus()}.bind(this))},s.prototype.hide=function(){return(this.animation?r.waitTransition(this.$(),this.removeStyleClass.bind(this,\"is_visible\")):Promise.resolve()).then(function(){this.setVisible(!1)}.bind(this))},s.prototype.getControl=function(t){return this.getAggregation(\"content\").filter(function(e){return e.data(\"name\")===t}).pop()},s.prototype.bringToFront=function(){var t,e=o.oPopup;return t=e&&e.isOpen()&&e.getModal()?e._iZIndex-3:i.getNextZIndex(),this.setZIndex(t)},s.prototype.setUndoRedoEnabled=function(){},s.prototype.setPublishEnabled=function(){},s.prototype.setRestoreEnabled=function(){},s},!0);",
		"sap/ui/rta/toolbar/BaseRenderer.js": "/*!\n * UI development toolkit for HTML5 (OpenUI5)\n * (c) Copyright 2009-2017 SAP SE or an SAP affiliate company.\n * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.\n */\nsap.ui.define([\"sap/ui/core/Renderer\",\"sap/m/ToolbarRenderer\"],function(e,a){\"use strict\";var t=e.extend(\"sap.ui.rta.toolbar.BaseRenderer\",a);return t.decorateRootElement=function(e,t){e.addClass(\"sapUiRtaToolbar\"),e.addClass(\"sapContrastPlus\"),e.addClass(\"color_\"+t.getColor()),t.type&&e.addClass(\"type_\"+t.type);var r=t.getZIndex();r&&e.addStyle(\"z-index\",r),a.decorateRootElement(e,t)},t});",
		"sap/ui/rta/toolbar/Fiori.js": "/*!\n * UI development toolkit for HTML5 (OpenUI5)\n * (c) Copyright 2009-2017 SAP SE or an SAP affiliate company.\n * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.\n */\nsap.ui.define([\"sap/m/Image\",\"./Adaptation\",\"../Utils\"],function(e,t,i){\"use strict\";var o=t.extend(\"sap.ui.rta.toolbar.Fiori\",{renderer:\"sap.ui.rta.toolbar.BaseRenderer\",type:\"fiori\"});return o.prototype.init=function(){t.prototype.init.apply(this,arguments),this._oRenderer=i.getFiori2Renderer(),this._oFioriHeader=this._oRenderer.getRootControl().getOUnifiedShell().getHeader()},o.prototype.show=function(){return this._oFioriHeader.addStyleClass(\"sapUiRtaFioriHeaderInvisible\"),t.prototype.show.apply(this,arguments)},o.prototype.buildControls=function(){var i=t.prototype.buildControls.apply(this,arguments),o=this._oFioriHeader.getLogo();if(this._oFioriHeader.getShowLogo()&&o){var r,a,n=this._oFioriHeader.$().find(\"#shell-header-icon\");if(n.length){var s=n.get(0).naturalWidth,p=n.get(0).naturalHeight;r=n.width(),a=n.height(),r===s&&a===p||jQuery.sap.log.error([\"sap.ui.rta: please check Fiori Launchpad logo, expected size is\",r+\"x\"+a+\",\",\"but actual is \"+s+\"x\"+p].join(\" \"))}i.unshift(new e({src:o,width:r?r+\"px\":r,height:a?a+\"px\":a}).data(\"name\",\"logo\"))}return i},o.prototype.hide=function(){return t.prototype.hide.apply(this,arguments).then(function(){this._oFioriHeader.removeStyleClass(\"sapUiRtaFioriHeaderInvisible\")}.bind(this))},o},!0);",
		"sap/ui/rta/toolbar/Personalization.js": "/*!\n * UI development toolkit for HTML5 (OpenUI5)\n * (c) Copyright 2009-2017 SAP SE or an SAP affiliate company.\n * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.\n */\nsap.ui.define([\"./Base\",\"sap/m/ToolbarSpacer\"],function(e,t){\"use strict\";var s=e.extend(\"sap.ui.rta.toolbar.Personalization\",{renderer:\"sap.ui.rta.toolbar.BaseRenderer\",type:\"personalization\",metadata:{events:{exit:{},restore:{}}}});return s.prototype.buildControls=function(){return[new t,new sap.m.Button({type:\"Transparent\",text:this.getTextResources().getText(\"BTN_RESTORE\"),tooltip:this.getTextResources().getText(\"BTN_RESTORE\"),visible:!0,press:this.eventHandler.bind(this,\"Restore\")}).data(\"name\",\"restore\"),new sap.m.Button({type:\"Emphasized\",text:this.getTextResources().getText(\"BTN_DONE\"),tooltip:this.getTextResources().getText(\"BTN_DONE_TOOLTIP\"),press:this.eventHandler.bind(this,\"Exit\")}).data(\"name\",\"exit\")]},s.prototype.setUndoRedoEnabled=function(){},s.prototype.setPublishEnabled=function(){},s.prototype.setRestoreEnabled=function(e){this.getControl(\"restore\").setEnabled(e)},s},!0);",
		"sap/ui/rta/toolbar/Standalone.js": "/*!\n * UI development toolkit for HTML5 (OpenUI5)\n * (c) Copyright 2009-2017 SAP SE or an SAP affiliate company.\n * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.\n */\nsap.ui.define([\"./Adaptation\"],function(e){\"use strict\";return e.extend(\"sap.ui.rta.toolbar.Standalone\",{renderer:\"sap.ui.rta.toolbar.BaseRenderer\",type:\"standalone\"})},!0);",
		"sap/ui/rta/ui/SettingsDialog.js": "/*!\n * UI development toolkit for HTML5 (OpenUI5)\n * (c) Copyright 2009-2017 SAP SE or an SAP affiliate company.\n * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.\n */\nsap.ui.define([\"jquery.sap.global\",\"sap/ui/rta/library\",\"sap/ui/core/Control\",\"sap/m/Dialog\",\"sap/ui/layout/VerticalLayout\",\"sap/m/Label\",\"sap/m/Input\",\"sap/m/Select\",\"sap/ui/core/Item\",\"sap/m/Button\",\"sap/m/CheckBox\",\"sap/ui/rta/command/CommandFactory\",\"sap/ui/rta/command/CompositeCommand\",\"sap/ui/dt/ElementUtil\"],function(t,e,a,o,n,i,s,r,p,d,c,l,m,u){\"use strict\";var h=a.extend(\"sap.ui.rta.ui.SettingsDialog\",{metadata:{library:\"sap.ui.rta\",properties:{commandStack:{type:\"sap.ui.core.Control\"}},associations:{element:{type:\"sap.ui.core.Element\"}}}});return h.prototype.init=function(){this._oTextResources=sap.ui.getCore().getLibraryResourceBundle(\"sap.ui.rta\"),this._oDialog=this._createDialog()},h.prototype._createDialog=function(){return new o({title:this._oTextResources.getText(\"HEADER_SETTINGS\"),contentHeight:\"500px\",draggable:!0,buttons:[new d({text:this._oTextResources.getText(\"BTN_FREP_OK\"),press:[this._applyChangesAndClose,this]}),new d({text:this._oTextResources.getText(\"BTN_FREP_CANCEL\"),press:[this._cancelDialog,this]})]}).addStyleClass(\"sapUiPopupWithPadding\").addStyleClass(\"sapUiSizeCompact\")},h.prototype._applyChangesAndClose=function(){this._applyChanges(),this._oDialog.close()},h.prototype._iterateExecutedCommands=function(t){Object.keys(this._mCommands).forEach(function(e){t(this._mCommands[e])},this)},h.prototype._applyChanges=function(){var t=new m;this._iterateExecutedCommands(function(e){t.addCommand(e)}),t.getCommands().length&&this.getCommandStack().pushExecutedCommand(t)},h.prototype._cancelDialog=function(){this._iterateExecutedCommands(function(t){t.undo()}),this._oDialog.close()},h.prototype._executePropertyChangeCommand=function(t,e,a,o){if(this._mCommands[e])this._mCommands[e].undo(),delete this._mCommands[e];else{var n=l.getCommandFor(t,\"property\",{propertyName:e,newValue:a,oldValue:o});this._mCommands[e]=n,n.execute()}},h.prototype._createBooleanEditor=function(t,e,a){var o=new c({text:e,selected:a});return o.attachSelect(function(a){var o=a.getParameter(\"selected\"),n=!o;this._executePropertyChangeCommand(t,e,o,n)},this),o},h.prototype._createStringEditor=function(t,e,a){var o=new s({value:a});return o.attachChange(function(o){var n=o.getParameter(\"value\"),i=a;this._executePropertyChangeCommand(t,e,n,i)},this),o},h.prototype._createEnumEditor=function(t,e,a,o){var n=new r;return Object.keys(e).forEach(function(t){n.addItem(new p({text:t,key:e[t]}))}),n.setSelectedKey(o),n.attachChange(function(e){var n=e.getParameter(\"selectedItem\");if(n){var i=n.getKey(),s=o;this._executePropertyChangeCommand(t,a,i,s)}},this),n},h.prototype._updateDialogContent=function(e){this._oDialog.removeAllContent();var a=new n,o=e.getMetadata().getAllProperties();Object.keys(o).forEach(function(s){var r,p=o[s],d=e[p._sGetter]();if(\"boolean\"===p.type)r=this._createBooleanEditor(e,s,d),a.addContent(r);else if(\"string\"===p.type||\"sap.ui.core.CSSSize\"===p.type){r=new n;var c=this._createStringEditor(e,s,d);r.addContent(new i({text:s,labelFor:c.getId()})),r.addContent(c),r.addStyleClass(\"sapUiRtaDialogEntryWithMargin\")}else{var l=t.sap.getObject(p.type);if(l){r=new n;var m=this._createEnumEditor(e,l,s,d);r.addContent(new i({text:s,labelFor:m.getId()})),r.addContent(m),r.addStyleClass(\"sapUiRtaDialogEntryWithMargin\")}}r&&a.addContent(r)},this),this._oDialog.addContent(a)},h.prototype.open=function(t){this._mCommands={},this._updateDialogContent(t),this._oDialog.open()},h},!0);",
		"sap/ui/rta/util/Animation.js": "/*!\n * UI development toolkit for HTML5 (OpenUI5)\n * (c) Copyright 2009-2017 SAP SE or an SAP affiliate company.\n * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.\n */\nsap.ui.define([\"jquery.sap.global\"],function(n){\"use strict\";var e={};return e.waitTransition=function(e,i){if(!(e instanceof n))throw new Error(\"$element should be wrapped into jQuery object\");if(!n.isFunction(i))throw new Error(\"fnCallback should be a function\");return new Promise(function(n){e.one(\"transitionend\",n);var r,o=function(n){r||(r=n),n!==r?i():window.requestAnimationFrame(o)};window.requestAnimationFrame(o)})},e},!0);",
		"sap/ui/rta/util/BindingsExtractor.js": "/*!\n * UI development toolkit for HTML5 (OpenUI5)\n * (c) Copyright 2009-2017 SAP SE or an SAP affiliate company.\n * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.\n */\nsap.ui.define([\"sap/ui/dt/ElementUtil\",\"sap/ui/rta/Utils\"],function(t,e){\"use strict\";function i(e,n){var r=[];for(var o in e.getMetadata().getAllAggregations())t.getAggregation(e,o).forEach(function(t){t.getMetadata&&(r=r.concat(a(t,n),i(t,n)))});return r}function n(t,e){var i=[],a=t.getMetadata().getName();return\"sap.ui.model.CompositeBinding\"===a?t.getBindings().forEach(function(t){i=i.concat(n(t,e))}):(\"sap.ui.model.odata.ODataPropertyBinding\"===a||\"sap.ui.model.odata.v2.ODataPropertyBinding\"===a||\"sap.ui.model.odata.v4.ODataPropertyBinding\"===a||\"sap.ui.model.json.JSONPropertyBinding\"===a||\"sap.ui.model.json.XMLPropertyBinding\"===a||\"sap.ui.model.resource.ResourcePropertyBinding\"===a)&&t.getModel()===e&&t.isRelative()&&jQuery.isFunction(t.getPath)&&t.getPath()&&i.push(t),i}function a(t,e){return Object.keys(t.getMetadata().getAllProperties()).filter(t.getBinding.bind(t)).reduce(function(i,a){return i.concat(n(t.getBinding(a),e))},[])}return{getBindings:i,flattenBindings:n,getBindingsFromProperties:a}},!0);",
		"sap/ui/rta/util/PopupManager.js": "/*!\n * UI development toolkit for HTML5 (OpenUI5)\n * (c) Copyright 2009-2017 SAP SE or an SAP affiliate company.\n * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.\n */\nsap.ui.define([\"jquery.sap.global\",\"sap/ui/base/ManagedObject\",\"sap/m/Dialog\",\"sap/m/Popover\",\"sap/m/InstanceManager\",\"sap/ui/core/Popup\",\"sap/ui/dt/OverlayRegistry\",\"sap/ui/dt/Overlay\",\"sap/ui/fl/Utils\",\"sap/ui/core/Component\"],function(t,e,o,n,i,p,r,s,a,u){\"use strict\";var c={add:\"_addFocusEventListeners\",remove:\"_removeFocusEventListeners\"},g=e.extend(\"sap.ui.rta.util.PopupManager\",{metadata:{properties:{rta:\"any\"},events:{open:{parameters:{oControl:{type:\"sap.ui.core.Control\"}}},close:{parameters:{oControl:{type:\"sap.ui.core.Control\"}}}},library:\"sap.ui.rta\"}});return g.prototype._overrideInstanceFunctions=function(){this._applyPopupMethods(this._createPopupOverlays),this._overrideAddPopupInstance(),this._overrideRemovePopupInstance()},g.prototype.getRelevantPopups=function(){var t,e;return t=i.getOpenDialogs(),e=i.getOpenPopovers(),{aDialogs:this._getValidatedPopups(t),aPopovers:this._getValidatedPopups(e)}},g.prototype._getValidatedPopups=function(t){return t.forEach(function(e,o){this._isSupportedPopup(e)&&(this.oRtaRootAppComponent===this._getAppComponentForControl(e)||this._isComponentInsidePopup(e))||t.splice(o,1)}.bind(this)),t.length>0&&t},g.prototype._isComponentInsidePopup=function(t){return t.getContent().some(function(t){if(t instanceof sap.ui.core.ComponentContainer)return this.oRtaRootAppComponent===this._getAppComponentForControl(sap.ui.getCore().getComponent(t.getComponent()))}.bind(this))},g.prototype._isSupportedPopup=function(t){return t instanceof sap.m.Dialog||t instanceof sap.m.Popover},g.prototype.setRta=function(t){if(t&&t._oDesignTime){this.setProperty(\"rta\",t);var e=sap.ui.getCore().byId(t.getRootControl());this.oRtaRootAppComponent=this._getAppComponentForControl(e),this._overrideInstanceFunctions();var o=this._onModeChange.bind(this);t.attachModeChanged(o)}},g.prototype._onModeChange=function(t){var e,o=t.getParameters().mode,n=function(t){t.oPopup[e]()};\"navigation\"===o?(e=this._getFocusEventName(\"add\"),this._applyFocusEventsToOpenPopups(n)):(e=this._getFocusEventName(\"remove\"),this._removeFocusEventsFromOpenPopups(n))},g.prototype._applyFocusEventsToOpenPopups=function(t){this._applyPopupMethods(t,!0)},g.prototype._removeFocusEventsFromOpenPopups=function(t){this._applyPopupMethods(t)},g.prototype._getFocusEventName=function(t){return c[t]},g.prototype._overrideAddPopupInstance=function(){this._fnOriginalAddDialogInstance=i.addDialogInstance,i.addDialogInstance=this._overrideAddFunctions(this._fnOriginalAddDialogInstance),this._fnOriginalAddPopoverInstance=i.addPopoverInstance,i.addPopoverInstance=this._overrideAddFunctions(this._fnOriginalAddPopoverInstance)},g.prototype._overrideAddFunctions=function(t){return function(e){var o=t.apply(i,arguments);return this.getRta()._oDesignTime&&this.oRtaRootAppComponent===this._getAppComponentForControl(e)&&this._isSupportedPopup(e)&&(e.attachAfterOpen(this._createPopupOverlays,this),this.fireOpen(e)),o}.bind(this)},g.prototype._applyPopupMethods=function(e,o){var n=this.getRelevantPopups();Object.keys(n).forEach(function(i){n[i]&&(o&&t.sap.focus(n[i][0].oPopup.oContent),n[i].forEach(function(t){e.call(this,t)}.bind(this)))}.bind(this))},g.prototype._applyPopupPatch=function(t){var e=r.getOverlay(t),o=s.getOverlayContainer(e),n=t.oPopup,i=[n.oContent.getDomRef(),o];this.getRta().getShowToolbars()&&i.push(this.getRta().getToolbar().getDomRef()),n.setAutoCloseAreas(i),this.fnOriginalPopupOnAfterRendering||(this.fnOriginalPopupOnAfterRendering=n.onAfterRendering),n.onAfterRendering=function(){var t=this.fnOriginalPopupOnAfterRendering.apply(n,arguments);return n[this._getFocusEventName(\"remove\")](),t}.bind(this),\"adaptation\"===this.getRta().getMode()&&n[this._getFocusEventName(\"remove\")]()},g.prototype._overrideRemovePopupInstance=function(){this._fnOriginalRemoveDialogInstance=i.removeDialogInstance,i.removeDialogInstance=this._overrideRemoveFunctions(this._fnOriginalRemoveDialogInstance),this._fnOriginalRemovePopoverInstance=i.removePopoverInstance,i.removePopoverInstance=this._overrideRemoveFunctions(this._fnOriginalRemovePopoverInstance)},g.prototype._overrideRemoveFunctions=function(t){return function(e){var o=t.apply(i,arguments);return this.getRta()._oDesignTime&&this.oRtaRootAppComponent===this._getAppComponentForControl(e)&&this._isSupportedPopup(e)&&(this.getRta()._oDesignTime.removeRootElement(e),this.fireClose(e)),o}.bind(this)},g.prototype._getAppComponentForControl=function(t){var e,o;return e=t instanceof sap.ui.core.Component?t:this._getComponentForControl(t),e&&(o=a.getAppComponentForControl(e)),o},g.prototype._getComponentForControl=function(t){var e;return t&&((e=u.getOwnerComponentFor(t))||\"function\"!=typeof t.getParent||t.getParent()instanceof sap.ui.core.UIArea||(t=t.getParent(),e=this._getComponentForControl(t))),e},g.prototype._createPopupOverlays=function(t){if(t){var e=t instanceof sap.ui.core.Control?t:t.getSource();-1!==this.getRta()._oDesignTime.getRootElements().indexOf(e.getId())||this._isComponentInsidePopup(e)||this.getRta()._oDesignTime.addRootElement(e),e.detachAfterOpen(this._createPopupOverlays,this),this._applyPopupPatch(e)}},g.prototype._restoreInstanceFunctions=function(){this._fnOriginalAddDialogInstance&&(i.addDialogInstance=this._fnOriginalAddDialogInstance),this._fnOriginalRemoveDialogInstance&&(i.removeDialogInstance=this._fnOriginalRemoveDialogInstance),this._fnOriginalAddPopoverInstance&&(i.addPopoverInstance=this._fnOriginalAddPopoverInstance),this._fnOriginalRemovePopoverInstance&&(i.removePopoverInstance=this._fnOriginalRemovePopoverInstance),this._applyPopupMethods(this._removePopupPatch)},g.prototype._removePopupPatch=function(t){var e=t.oPopup;e[this._getFocusEventName(\"add\")](),this.fnOriginalPopupOnAfterRendering&&(e.onAfterRendering=this.fnOriginalPopupOnAfterRendering)},g.prototype.exit=function(){this._restoreInstanceFunctions()},g},!0);",
		"sap/ui/rta/util/StylesLoader.js": "/*!\n * UI development toolkit for HTML5 (OpenUI5)\n * (c) Copyright 2009-2017 SAP SE or an SAP affiliate company.\n * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.\n */\nsap.ui.define([\"jquery.sap.global\"],function(e){\"use strict\";var t={};return t.loadStyles=function(t){return e.get(e.sap.getModulePath(\"sap.ui.rta.themes.base.\"+t)+\".css\").then(function(e){return sap.ui.getCore().getConfiguration().getRTL()?e.replace(/right/g,\"left\"):e})},t},!0);",
		"sap/ui/rta/util/UrlParser.js": "/*!\n * UI development toolkit for HTML5 (OpenUI5)\n * (c) Copyright 2009-2017 SAP SE or an SAP affiliate company.\n * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.\n */\nsap.ui.define([],function(e){\"use strict\";var r={};return r.getParam=function(e){return r.getParams()[e]},r.getParams=function(){return document.location.search.replace(/^\\?/,\"\").split(\"&\").reduce(function(e,r){var t=r.split(\"=\"),a=t[1];switch(a){case\"true\":a=!0;break;case\"false\":a=!1}return e[t[0]]=a,e},{})},r},!0);",
		"sap/ui/rta/Utils.js": "/*!\n * UI development toolkit for HTML5 (OpenUI5)\n * (c) Copyright 2009-2017 SAP SE or an SAP affiliate company.\n * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.\n */\nsap.ui.define([\"jquery.sap.global\",\"sap/ui/fl/Utils\",\"sap/ui/dt/OverlayUtil\",\"sap/ui/dt/OverlayRegistry\",\"sap/ui/fl/registry/Settings\"],function(e,t,n,i,r){\"use strict\";var a={};return a.RESOLVED_PROMISE=Promise.resolve(!0),a._sFocusableOverlayClass=\".sapUiDtOverlaySelectable\",a._sRtaStyleClassName=\"\",a.getRtaStyleClassName=function(){return a._sRtaStyleClassName},a.setRtaStyleClassName=function(e){\"USER\"===e?a._sRtaStyleClassName=\"\":t.getLayerIndex(e)>-1&&(\"sap_belize\"===sap.ui.getCore().getConfiguration().getTheme()?a._sRtaStyleClassName=\"sapContrast\":\"sap_belize_plus\"===sap.ui.getCore().getConfiguration().getTheme()&&(a._sRtaStyleClassName=\"sapContrastPlus\"))},a.isExtensibilityEnabledInSystem=function(e){var n=t.getComponentClassName(e);return n&&\"\"!=n?r.getInstance(n).then(function(e){return!!e.isModelS&&e.isModelS()}):Promise.resolve(!1)},a.getRelevantContainerDesigntimeMetadata=function(e){var t=e.getRelevantContainer();if(t&&e.getParent()){var n=i.getOverlay(t);return n?n.getDesignTimeMetadata():void 0}},a.isServiceUpToDate=function(t){return this.isExtensibilityEnabledInSystem(t).then(function(n){if(n){e.sap.require(\"sap.ui.fl.fieldExt.Access\");var i=t.getModel();if(i){if(sap.ui.fl.fieldExt.Access.isServiceOutdated(i.sServiceUrl))return sap.ui.fl.fieldExt.Access.setServiceValid(i.sServiceUrl),sap.ui.getCore().getEventBus().publish(\"sap.ui.core.UnrecoverableClientStateCorruption\",\"RequestReload\",{}),Promise.reject()}}})},a.isCustomFieldAvailable=function(t){return this.isExtensibilityEnabledInSystem(t).then(function(n){if(!n)return!1;if(!t.getModel())return!1;var i=t.getModel().sServiceUrl,r=this.getBoundEntityType(t).name;try{e.sap.require(\"sap.ui.fl.fieldExt.Access\");var a=sap.ui.fl.fieldExt.Access.getBusinessContexts(i,r);return Promise.resolve(a).then(function(e){return!!e&&(e.BusinessContexts&&e.BusinessContexts.length>0?(e.EntityType=r,e):void 0)}).catch(function(t){if(t&&e.isArray(t.errorMessages))for(var n=0;n<t.errorMessages.length;n++)e.sap.log.error(t.errorMessages[n].text);return!1})}catch(t){return e.sap.log.error(\"exception occured in sap.ui.fl.fieldExt.Access.getBusinessContexts\",t),!1}}.bind(this))},a.openRemoveConfirmationDialog=function(e,t){var n,i=sap.ui.getCore().getLibraryResourceBundle(\"sap.ui.rta\");return new Promise(function(e,r){n=i.getText(\"CTX_REMOVE_TITLE\");var s={messageText:t,titleText:n,icon:\"sap-icon://question-mark\",removeText:i.getText(\"BTN_FREP_REMOVE\"),cancelText:i.getText(\"BTN_FREP_CANCEL\")},o=new sap.ui.model.json.JSONModel;o.setData(s);var l,u=function(){l&&(l.close(),l.destroy(),l=null)},g={removeField:function(){u(),e(!0)},closeDialog:function(){u(),e(!1)}};l||(l=sap.ui.xmlfragment(\"sap.ui.rta.view.RemoveElementDialog\",g),l.setModel(o)),l.addStyleClass(a.getRtaStyleClassName()),l.open()})},a.isOverlaySelectable=function(e){return e.isSelectable()&&e.$().is(\":visible\")},a.getPropertyValue=function(e,t){return e[e.getMetadata().getPropertyLikeSetting(t)._sGetter]()},a.getOverlayInstanceForDom=function(t){var n=e(t).attr(\"id\");if(n)return sap.ui.getCore().byId(n)},a.getFocusedOverlay=function(){if(document.activeElement){var e=sap.ui.getCore().byId(document.activeElement.id);if(e instanceof sap.ui.dt.ElementOverlay)return e}},a.getFocusableParentOverlay=function(e){if(e){for(var t=e.getParentElementOverlay();t&&!t.getSelectable();)t=t.getParentElementOverlay();return t}},a.getFirstFocusableDescendantOverlay=function(e){return n.getFirstDescendantByCondition(e,this.isOverlaySelectable)},a.getNextFocusableSiblingOverlay=function(e){for(var t=n.getNextSiblingOverlay(e);t&&!this.isOverlaySelectable(t);)t=n.getNextSiblingOverlay(t);return t},a.getPreviousFocusableSiblingOverlay=function(e){for(var t=n.getPreviousSiblingOverlay(e);t&&!this.isOverlaySelectable(t);)t=n.getPreviousSiblingOverlay(t);return t},a.getIndex=function(e,t,n,i){var r;if(i&&\"function\"==typeof i)r=i.call(null,e,t);else{var a=e.getMetadata(),s=a.getAggregation(n),o=s._sGetter,l=e[o]();r=Array.isArray(l)?t?l.indexOf(t)+1:l.length:0}return r},a.createFieldLabelId=function(e,t,n){return(e.getId()+\"_\"+t+\"_\"+n).replace(\"/\",\"_\")},a.getLabelForElement=function(e,t){if(t)return t(e);var n=e.getText&&e.getText();return n||(n=e.getLabelText&&e.getLabelText()),n||(n=e.getLabel&&e.getLabel())&&n.getText&&(n=n.getText()),n||(n=e.getTitle&&e.getTitle()),n||(n=e.getId&&e.getId()),\"string\"==typeof n?n:void 0},a.getBoundEntityType=function(e,t){t||(t=e.getModel());var n=e.getBindingContext();return n?a.getEntityTypeByPath(t,n.getPath())||{}:{}},a.openNewWindow=function(e){window.open(e,\"_blank\")},a.getElementBindingPaths=function(e){var t={};if(e.mBindingInfos)for(var n in e.mBindingInfos){var i=e.mBindingInfos[n].parts[0].path?e.mBindingInfos[n].parts[0].path:\"\";i=i.split(\"/\")[i.split(\"/\").length-1],t[i]={valueProperty:n}}return t},a.getFiori2Renderer=function(){var e=a.getUshellContainer()||{};return\"function\"==typeof e.getRenderer?e.getRenderer(\"fiori2\"):void 0},a.getUshellContainer=function(){return sap.ushell&&sap.ushell.Container},a.getEntityTypeByPath=function(e,t){return e.oMetadata._getEntityTypeByPath(t)},a.mergeWith=function(e,t,n){if(\"function\"!=typeof n)throw new Error(\"In order to use mergeWith() utility function fnCustomizer should be provided!\");for(var i in t)t.hasOwnProperty(i)&&(e[i]=e.hasOwnProperty(i)?n(e[i],t[i],i,e,t):t[i]);return e},a.isElementInViewport=function(t){t instanceof e&&(t=t.get(0));var n=t.getBoundingClientRect();return n.top>=0&&n.left>=0&&n.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&n.right<=(window.innerWidth||document.documentElement.clientWidth)},a},!0);"
	}
});